<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>SAE Auto: planner::Maneuver Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SAE Auto
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   <div id="projectbrief">TODO(roman):writebrief</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceplanner.html">planner</a></li><li class="navelem"><a class="el" href="classplanner_1_1_maneuver.html">Maneuver</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classplanner_1_1_maneuver-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">planner::Maneuver Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A <a class="el" href="classplanner_1_1_maneuver.html" title="A Maneuver describes a path in curvilinear- and carthesian coordinates. ">Maneuver</a> describes a path in curvilinear- and carthesian coordinates.  
 <a href="classplanner_1_1_maneuver.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="maneuver_8h_source.html">maneuver.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af2da289985cd19d4fa40727e372aeb20"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#af2da289985cd19d4fa40727e372aeb20">Maneuver</a> (const <a class="el" href="namespaceplanner.html#a00dc2e45d34fb5441af4d23fbde47b62">point</a> position, const double heading, const double velocity, const double <a class="el" href="classplanner_1_1_maneuver.html#a8d56aed4723518fa303a70eaa998ae4b">q_i</a>, const double <a class="el" href="classplanner_1_1_maneuver.html#a6932cd20e8131e890b4f5d07b0b61854">q_f</a>, const double <a class="el" href="classplanner_1_1_maneuver.html#ac6e9878f65a505e2054c08c66ce178f3">s_i</a>, std::shared_ptr&lt; <a class="el" href="classplanner_1_1_baseframe.html">Baseframe</a> &gt; const &amp;baseframe, std::shared_ptr&lt; <a class="el" href="namespaceplanner.html#ac0b7a27a71cfd1896e1d537aa61a05ad">Rtree</a> &gt; const &amp;rtree)</td></tr>
<tr class="separator:af2da289985cd19d4fa40727e372aeb20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba3082a11dcc4f6dbb1352154c308563"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#aba3082a11dcc4f6dbb1352154c308563">curvature</a> (const double s) const </td></tr>
<tr class="memdesc:aba3082a11dcc4f6dbb1352154c308563"><td class="mdescLeft">&#160;</td><td class="mdescRight">Curvature of the <a class="el" href="classplanner_1_1_maneuver.html" title="A Maneuver describes a path in curvilinear- and carthesian coordinates. ">Maneuver</a> at arc-length of <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> s.  <a href="#aba3082a11dcc4f6dbb1352154c308563">More...</a><br /></td></tr>
<tr class="separator:aba3082a11dcc4f6dbb1352154c308563"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7256b5681c90f9f839be10fbe7d440e3"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#a7256b5681c90f9f839be10fbe7d440e3">s_f</a> () const  noexcept</td></tr>
<tr class="memdesc:a7256b5681c90f9f839be10fbe7d440e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">getter for the final arc-length along the <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> <img class="formulaInl" alt="$ s_f $" src="form_50.png"/>.  <a href="#a7256b5681c90f9f839be10fbe7d440e3">More...</a><br /></td></tr>
<tr class="separator:a7256b5681c90f9f839be10fbe7d440e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01cc0d83eb55267efcacf2b29ca837b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#a01cc0d83eb55267efcacf2b29ca837b4">s_f</a> (const double s)</td></tr>
<tr class="memdesc:a01cc0d83eb55267efcacf2b29ca837b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">getter for the final arc-length along the <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> <img class="formulaInl" alt="$ s_f $" src="form_50.png"/>.  <a href="#a01cc0d83eb55267efcacf2b29ca837b4">More...</a><br /></td></tr>
<tr class="separator:a01cc0d83eb55267efcacf2b29ca837b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6e9878f65a505e2054c08c66ce178f3"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#ac6e9878f65a505e2054c08c66ce178f3">s_i</a> () const  noexcept</td></tr>
<tr class="memdesc:ac6e9878f65a505e2054c08c66ce178f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">getter for the initial arc-length along the <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> <img class="formulaInl" alt="$ s_i $" src="form_59.png"/> [m].  <a href="#ac6e9878f65a505e2054c08c66ce178f3">More...</a><br /></td></tr>
<tr class="separator:ac6e9878f65a505e2054c08c66ce178f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c2f498e399f50beb4469fde845fb87d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#a4c2f498e399f50beb4469fde845fb87d">s_i</a> (const double s)</td></tr>
<tr class="memdesc:a4c2f498e399f50beb4469fde845fb87d"><td class="mdescLeft">&#160;</td><td class="mdescRight">setter for the initial arc-length along the <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> <img class="formulaInl" alt="$ s_i $" src="form_59.png"/> [m].  <a href="#a4c2f498e399f50beb4469fde845fb87d">More...</a><br /></td></tr>
<tr class="separator:a4c2f498e399f50beb4469fde845fb87d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d56aed4723518fa303a70eaa998ae4b"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#a8d56aed4723518fa303a70eaa998ae4b">q_i</a> () const  noexcept</td></tr>
<tr class="memdesc:a8d56aed4723518fa303a70eaa998ae4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">getter for the initial offset from the <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> <img class="formulaInl" alt="$ q_i $" src="form_60.png"/> [m]. this is equal to _d  <a href="#a8d56aed4723518fa303a70eaa998ae4b">More...</a><br /></td></tr>
<tr class="separator:a8d56aed4723518fa303a70eaa998ae4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6932cd20e8131e890b4f5d07b0b61854"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#a6932cd20e8131e890b4f5d07b0b61854">q_f</a> () const  noexcept</td></tr>
<tr class="memdesc:a6932cd20e8131e890b4f5d07b0b61854"><td class="mdescLeft">&#160;</td><td class="mdescRight">getter for the final offset from the <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> <img class="formulaInl" alt="$ q_f $" src="form_61.png"/> [m].  <a href="#a6932cd20e8131e890b4f5d07b0b61854">More...</a><br /></td></tr>
<tr class="separator:a6932cd20e8131e890b4f5d07b0b61854"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a266f8f14edd99d29d8157e9f96bdb8b1"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#a266f8f14edd99d29d8157e9f96bdb8b1">theta</a> () const  noexcept</td></tr>
<tr class="memdesc:a266f8f14edd99d29d8157e9f96bdb8b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">getter difference between vehicle heading and <a class="el" href="classplanner_1_1_baseframe.html#a2c85586deaa4a398270c9b570f83bb70" title="calculates the tangent angle in [rad] of baseframe at arc-length . ">Baseframe::theta</a> <img class="formulaInl" alt="$ \Delta \theta $" src="form_39.png"/> [rad].  <a href="#a266f8f14edd99d29d8157e9f96bdb8b1">More...</a><br /></td></tr>
<tr class="separator:a266f8f14edd99d29d8157e9f96bdb8b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28b9242c1c2fccdd28f721f91460103b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#a28b9242c1c2fccdd28f721f91460103b">driveable</a> ()</td></tr>
<tr class="memdesc:a28b9242c1c2fccdd28f721f91460103b"><td class="mdescLeft">&#160;</td><td class="mdescRight">indicates if this maneuver is driveable for a non-holonomic vehicle  <a href="#a28b9242c1c2fccdd28f721f91460103b">More...</a><br /></td></tr>
<tr class="separator:a28b9242c1c2fccdd28f721f91460103b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a355986a548281ad5087477e5da494167"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#a355986a548281ad5087477e5da494167">collision</a> ()</td></tr>
<tr class="memdesc:a355986a548281ad5087477e5da494167"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collision checking function <img class="formulaInl" alt="$ \Phi: m \in \mathcal{M} \rightarrow s \in [0,L] $" src="form_63.png"/>.  <a href="#a355986a548281ad5087477e5da494167">More...</a><br /></td></tr>
<tr class="separator:a355986a548281ad5087477e5da494167"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bb50ba60d1c1a478a60be23cf10cc19"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#a4bb50ba60d1c1a478a60be23cf10cc19">J</a> (const <a class="el" href="classplanner_1_1_maneuver.html">Maneuver</a> &amp;previous, const std::shared_ptr&lt; std::vector&lt; <a class="el" href="classplanner_1_1_maneuver.html">Maneuver</a> &gt;&gt; maneuvers, double w_s=FLAGS_weight_safety, double w_k=FLAGS_weight_smoothness, double w_c=FLAGS_weight_consistency) const </td></tr>
<tr class="memdesc:a4bb50ba60d1c1a478a60be23cf10cc19"><td class="mdescLeft">&#160;</td><td class="mdescRight">linear combination of cost functions with weighting factors.  <a href="#a4bb50ba60d1c1a478a60be23cf10cc19">More...</a><br /></td></tr>
<tr class="separator:a4bb50ba60d1c1a478a60be23cf10cc19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5540cf6d27d9c31c759cbebc0dc3fb50"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#a5540cf6d27d9c31c759cbebc0dc3fb50">C_s</a> (std::shared_ptr&lt; std::vector&lt; <a class="el" href="classplanner_1_1_maneuver.html">Maneuver</a> &gt;&gt; maneuvers, const double sigma=FLAGS_collision_standart_deviation) const </td></tr>
<tr class="memdesc:a5540cf6d27d9c31c759cbebc0dc3fb50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Safety cost function <img class="formulaInl" alt="$ C_s $" src="form_69.png"/>.  <a href="#a5540cf6d27d9c31c759cbebc0dc3fb50">More...</a><br /></td></tr>
<tr class="separator:a5540cf6d27d9c31c759cbebc0dc3fb50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab87f05a9b683739ef04f6f1286956ff4"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#ab87f05a9b683739ef04f6f1286956ff4">C_k</a> () const </td></tr>
<tr class="memdesc:ab87f05a9b683739ef04f6f1286956ff4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Smoothness cost function <img class="formulaInl" alt="$ C_\kappa $" src="form_81.png"/>.  <a href="#ab87f05a9b683739ef04f6f1286956ff4">More...</a><br /></td></tr>
<tr class="separator:ab87f05a9b683739ef04f6f1286956ff4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abacdffa7119f278e7d9211e9b0f02425"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#abacdffa7119f278e7d9211e9b0f02425">C_c</a> (const <a class="el" href="classplanner_1_1_maneuver.html">Maneuver</a> &amp;previous) const </td></tr>
<tr class="memdesc:abacdffa7119f278e7d9211e9b0f02425"><td class="mdescLeft">&#160;</td><td class="mdescRight">Consistency cost function <img class="formulaInl" alt="$C_c$" src="form_67.png"/>.  <a href="#abacdffa7119f278e7d9211e9b0f02425">More...</a><br /></td></tr>
<tr class="separator:abacdffa7119f278e7d9211e9b0f02425"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a8ba3e3f40627ffdb81b9aeb3ff05e1"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structplanner_1_1pose.html">pose</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#a0a8ba3e3f40627ffdb81b9aeb3ff05e1">path</a> ()</td></tr>
<tr class="memdesc:a0a8ba3e3f40627ffdb81b9aeb3ff05e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">calculates a discrete path in carthesian coordinates as a set of vehicle poses.  <a href="#a0a8ba3e3f40627ffdb81b9aeb3ff05e1">More...</a><br /></td></tr>
<tr class="separator:a0a8ba3e3f40627ffdb81b9aeb3ff05e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61420c3ad672742713b634859e680d97"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structplanner_1_1pose.html">pose</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#a61420c3ad672742713b634859e680d97">path</a> () const </td></tr>
<tr class="separator:a61420c3ad672742713b634859e680d97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a38c9fbed88221629e32274b0962ee00f"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#a38c9fbed88221629e32274b0962ee00f">Q</a> (const double s) const </td></tr>
<tr class="memdesc:a38c9fbed88221629e32274b0962ee00f"><td class="mdescLeft">&#160;</td><td class="mdescRight"><p class="formulaDsp">
<img class="formulaDsp" alt="\[ Q = \sqrt{\left(\frac{\mathrm{d}q}{\mathrm{d}s}\right)^2+(1-q\kappa_b)^2} \]" src="form_95.png"/>
</p>
  <a href="#a38c9fbed88221629e32274b0962ee00f">More...</a><br /></td></tr>
<tr class="separator:a38c9fbed88221629e32274b0962ee00f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6581889f33e78361b7c17c83550f639"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#ae6581889f33e78361b7c17c83550f639">S</a> (const double s) const </td></tr>
<tr class="separator:ae6581889f33e78361b7c17c83550f639"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa882d07bf4448dd3ca5471def0a3eb89"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#aa882d07bf4448dd3ca5471def0a3eb89">q</a> (double s) const </td></tr>
<tr class="memdesc:aa882d07bf4448dd3ca5471def0a3eb89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the offset from the <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> at s <img class="formulaInl" alt="$q: s \in [s_i,\infty] \rightarrow q \in [q_i, q_f]$" src="form_98.png"/>.  <a href="#aa882d07bf4448dd3ca5471def0a3eb89">More...</a><br /></td></tr>
<tr class="separator:aa882d07bf4448dd3ca5471def0a3eb89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4834d324cb62dd2054b64ac2f7f94d5c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#a4834d324cb62dd2054b64ac2f7f94d5c">dq</a> (double s) const </td></tr>
<tr class="separator:a4834d324cb62dd2054b64ac2f7f94d5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a001c4e6fa8d5147b7770595d625cec9e"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#a001c4e6fa8d5147b7770595d625cec9e">ddq</a> (double s) const </td></tr>
<tr class="separator:a001c4e6fa8d5147b7770595d625cec9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a95fbf95d7e673a068919da0ebacb38c3"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#a95fbf95d7e673a068919da0ebacb38c3">_q_f</a></td></tr>
<tr class="memdesc:a95fbf95d7e673a068919da0ebacb38c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">final offset from <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> <img class="formulaInl" alt="$q_f$" src="form_103.png"/> [m].  <a href="#a95fbf95d7e673a068919da0ebacb38c3">More...</a><br /></td></tr>
<tr class="separator:a95fbf95d7e673a068919da0ebacb38c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a480035ee064cf666c9f703ede1cd9ade"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#a480035ee064cf666c9f703ede1cd9ade">_s_i</a></td></tr>
<tr class="memdesc:a480035ee064cf666c9f703ede1cd9ade"><td class="mdescLeft">&#160;</td><td class="mdescRight">initial arc-length along <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> <img class="formulaInl" alt="$s_i$" src="form_104.png"/> [m].  <a href="#a480035ee064cf666c9f703ede1cd9ade">More...</a><br /></td></tr>
<tr class="separator:a480035ee064cf666c9f703ede1cd9ade"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68cdd30dfa19f0848c0df5a7f72ccc8a"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#a68cdd30dfa19f0848c0df5a7f72ccc8a">_s_f</a></td></tr>
<tr class="memdesc:a68cdd30dfa19f0848c0df5a7f72ccc8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">final arc-length along <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> <img class="formulaInl" alt="$s_f$" src="form_105.png"/> [m].  <a href="#a68cdd30dfa19f0848c0df5a7f72ccc8a">More...</a><br /></td></tr>
<tr class="separator:a68cdd30dfa19f0848c0df5a7f72ccc8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d41f5cbb57cb537aef1a0236dbc7a05"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#a1d41f5cbb57cb537aef1a0236dbc7a05">_theta</a></td></tr>
<tr class="memdesc:a1d41f5cbb57cb537aef1a0236dbc7a05"><td class="mdescLeft">&#160;</td><td class="mdescRight">difference between vehicle heading and tangent angle of baseframe <img class="formulaInl" alt="$ \Delta \theta $" src="form_39.png"/>  <a href="#a1d41f5cbb57cb537aef1a0236dbc7a05">More...</a><br /></td></tr>
<tr class="separator:a1d41f5cbb57cb537aef1a0236dbc7a05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af73ebc0692da57e3b024e49e5b5c2521"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#af73ebc0692da57e3b024e49e5b5c2521">_v</a></td></tr>
<tr class="memdesc:af73ebc0692da57e3b024e49e5b5c2521"><td class="mdescLeft">&#160;</td><td class="mdescRight">forward velocity of the vehicle <img class="formulaInl" alt="$v$" src="form_51.png"/> [m/s]  <a href="#af73ebc0692da57e3b024e49e5b5c2521">More...</a><br /></td></tr>
<tr class="separator:af73ebc0692da57e3b024e49e5b5c2521"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc434d2e32df019818b4864738ec57b9"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#acc434d2e32df019818b4864738ec57b9">_a</a></td></tr>
<tr class="memdesc:acc434d2e32df019818b4864738ec57b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">coefficient a  <a href="#acc434d2e32df019818b4864738ec57b9">More...</a><br /></td></tr>
<tr class="separator:acc434d2e32df019818b4864738ec57b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc645c775daef277f6e828adc08f9a76"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#adc645c775daef277f6e828adc08f9a76">_b</a></td></tr>
<tr class="memdesc:adc645c775daef277f6e828adc08f9a76"><td class="mdescLeft">&#160;</td><td class="mdescRight">coefficient b  <a href="#adc645c775daef277f6e828adc08f9a76">More...</a><br /></td></tr>
<tr class="separator:adc645c775daef277f6e828adc08f9a76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfb36e00ac1e522e1903dd51d55399ee"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#acfb36e00ac1e522e1903dd51d55399ee">_c</a></td></tr>
<tr class="memdesc:acfb36e00ac1e522e1903dd51d55399ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">coefficient c  <a href="#acfb36e00ac1e522e1903dd51d55399ee">More...</a><br /></td></tr>
<tr class="separator:acfb36e00ac1e522e1903dd51d55399ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d8755d44750a03033497aa3a766fc36"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#a8d8755d44750a03033497aa3a766fc36">_d</a></td></tr>
<tr class="memdesc:a8d8755d44750a03033497aa3a766fc36"><td class="mdescLeft">&#160;</td><td class="mdescRight">coefficient d  <a href="#a8d8755d44750a03033497aa3a766fc36">More...</a><br /></td></tr>
<tr class="separator:a8d8755d44750a03033497aa3a766fc36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac30e088a236836a53f14766734eda63a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceplanner.html#a00dc2e45d34fb5441af4d23fbde47b62">point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#ac30e088a236836a53f14766734eda63a">_position</a></td></tr>
<tr class="memdesc:ac30e088a236836a53f14766734eda63a"><td class="mdescLeft">&#160;</td><td class="mdescRight">position of the vehicle, used for <a class="el" href="classplanner_1_1_maneuver.html#a0a8ba3e3f40627ffdb81b9aeb3ff05e1" title="calculates a discrete path in carthesian coordinates as a set of vehicle poses. ">Maneuver::path</a>  <a href="#ac30e088a236836a53f14766734eda63a">More...</a><br /></td></tr>
<tr class="separator:ac30e088a236836a53f14766734eda63a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a142ea98ee4991a41c5dc43c9e1d7309e"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#a142ea98ee4991a41c5dc43c9e1d7309e">_heading</a></td></tr>
<tr class="memdesc:a142ea98ee4991a41c5dc43c9e1d7309e"><td class="mdescLeft">&#160;</td><td class="mdescRight">heading of the vehicle, used in <a class="el" href="classplanner_1_1_maneuver.html#a0a8ba3e3f40627ffdb81b9aeb3ff05e1" title="calculates a discrete path in carthesian coordinates as a set of vehicle poses. ">Maneuver::path</a>  <a href="#a142ea98ee4991a41c5dc43c9e1d7309e">More...</a><br /></td></tr>
<tr class="separator:a142ea98ee4991a41c5dc43c9e1d7309e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9b45565985e230c95fb607ce8fb9620"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structplanner_1_1pose.html">pose</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#af9b45565985e230c95fb607ce8fb9620">_path</a></td></tr>
<tr class="memdesc:af9b45565985e230c95fb607ce8fb9620"><td class="mdescLeft">&#160;</td><td class="mdescRight">discrete path as vector of poses  <a href="#af9b45565985e230c95fb607ce8fb9620">More...</a><br /></td></tr>
<tr class="separator:af9b45565985e230c95fb607ce8fb9620"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19040da64509158b90dd4e607fada2fa"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classplanner_1_1_baseframe.html">Baseframe</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#a19040da64509158b90dd4e607fada2fa">_baseframe</a></td></tr>
<tr class="memdesc:a19040da64509158b90dd4e607fada2fa"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> for this maneuver.  <a href="#a19040da64509158b90dd4e607fada2fa">More...</a><br /></td></tr>
<tr class="separator:a19040da64509158b90dd4e607fada2fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa51ccde1a361c326a0cf688006ce3a15"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="namespaceplanner.html#ac0b7a27a71cfd1896e1d537aa61a05ad">Rtree</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#aa51ccde1a361c326a0cf688006ce3a15">_rtree</a></td></tr>
<tr class="memdesc:aa51ccde1a361c326a0cf688006ce3a15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Spatial index observer for collision checking.  <a href="#aa51ccde1a361c326a0cf688006ce3a15">More...</a><br /></td></tr>
<tr class="separator:aa51ccde1a361c326a0cf688006ce3a15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2c02eac739554662afa7d78d28dc0db"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#ac2c02eac739554662afa7d78d28dc0db">_collision_checked</a></td></tr>
<tr class="memdesc:ac2c02eac739554662afa7d78d28dc0db"><td class="mdescLeft">&#160;</td><td class="mdescRight">flag indicates if collision was already calculated.  <a href="#ac2c02eac739554662afa7d78d28dc0db">More...</a><br /></td></tr>
<tr class="separator:ac2c02eac739554662afa7d78d28dc0db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52d9904cbd57d34df3091498a77dc46e"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#a52d9904cbd57d34df3091498a77dc46e">_collision_length</a></td></tr>
<tr class="memdesc:a52d9904cbd57d34df3091498a77dc46e"><td class="mdescLeft">&#160;</td><td class="mdescRight">stores length where collision occured - 0.0 for non collision.  <a href="#a52d9904cbd57d34df3091498a77dc46e">More...</a><br /></td></tr>
<tr class="separator:a52d9904cbd57d34df3091498a77dc46e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7ea43fdf6dc2ee92370f9c6683282d0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#af7ea43fdf6dc2ee92370f9c6683282d0">_drivable</a></td></tr>
<tr class="memdesc:af7ea43fdf6dc2ee92370f9c6683282d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">flag if this path is reasonable for a non-holonomic vehicle with the maximal curvature of <img class="formulaInl" alt="$k_\mathrm{max}$" src="form_106.png"/>  <a href="#af7ea43fdf6dc2ee92370f9c6683282d0">More...</a><br /></td></tr>
<tr class="separator:af7ea43fdf6dc2ee92370f9c6683282d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a992f637c1b47ee592b4563fa9e6a6f65"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplanner_1_1_maneuver.html#a992f637c1b47ee592b4563fa9e6a6f65">operator&lt;&lt;</a> (std::ostream &amp;os, const <a class="el" href="classplanner_1_1_maneuver.html">Maneuver</a> &amp;m)</td></tr>
<tr class="separator:a992f637c1b47ee592b4563fa9e6a6f65"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A <a class="el" href="classplanner_1_1_maneuver.html" title="A Maneuver describes a path in curvilinear- and carthesian coordinates. ">Maneuver</a> describes a path in curvilinear- and carthesian coordinates. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classplanner_1_1_planner.html" title="A local path planner for autonomous driving. ">Planner</a>, <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a>, <a href="http://ieeexplore.ieee.org/document/6203588/">Chu2012</a> </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Roman C. Podolski - <a href="#" onclick="location.href='mai'+'lto:'+'rom'+'an'+'.po'+'do'+'lsk'+'i@'+'tum'+'.d'+'e'; return false;">roman<span style="display: none;">.nosp@m.</span>.pod<span style="display: none;">.nosp@m.</span>olski<span style="display: none;">.nosp@m.</span>@tum<span style="display: none;">.nosp@m.</span>.de</a></dd></dl>
<p>A <a class="el" href="classplanner_1_1_maneuver.html" title="A Maneuver describes a path in curvilinear- and carthesian coordinates. ">Maneuver</a> is a cubic-polynomnial in curvilinear coordinates of form</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ q(s) = a(s - s_i)^3 + b(s - s_i)^2 + c(s - s_i) + d \]" src="form_33.png"/>
</p>
<p>that satisfies the following boundary conditions</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\begin{eqnarray*} q(s_i) &amp;=&amp; q_i \\ q(s_f) &amp;=&amp; q_f \\ \frac{\mathrm{d}}{\mathrm{d}s}q(s_i) &amp;=&amp; \tan(\Delta \theta) \\ \frac{\mathrm{d}}{\mathrm{d}s}q(s_i) &amp;=&amp; 0 \\ \end{eqnarray*}" src="form_34.png"/>
</p>
<p>with the following constants:</p><ul>
<li><img class="formulaInl" alt="$s_i \in [0,L] $" src="form_35.png"/> is the initial arc-length along the baseframe [m].</li>
<li><img class="formulaInl" alt="$s_f \in [0,L] \wedge s_f &gt; s_i $" src="form_36.png"/> is the final arc-length [m].</li>
<li><img class="formulaInl" alt="$q_i \in [-q_\mathrm{max}, q_\mathrm{max}]$" src="form_37.png"/> initial offset from <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> [m].</li>
<li><img class="formulaInl" alt="$q_f \in [-q_\mathrm{max}, q_\mathrm{max}]$" src="form_38.png"/> final offset from <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> [m].</li>
<li><img class="formulaInl" alt="$ \Delta \theta $" src="form_39.png"/> difference between <a class="el" href="classplanner_1_1_baseframe.html#a2c85586deaa4a398270c9b570f83bb70" title="calculates the tangent angle in [rad] of baseframe at arc-length . ">Baseframe::theta</a> and vehicle heading [rad].</li>
</ul>
<p>By forward integration of a suitable vehicle model, a discrete path in carthesian coordinates can be calculated from a maneuver. </p>

<p>Definition at line <a class="el" href="maneuver_8h_source.html#l00078">78</a> of file <a class="el" href="maneuver_8h_source.html">maneuver.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af2da289985cd19d4fa40727e372aeb20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">planner::Maneuver::Maneuver </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceplanner.html#a00dc2e45d34fb5441af4d23fbde47b62">point</a>&#160;</td>
          <td class="paramname"><em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>heading</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>velocity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>q_i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>q_f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>s_i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classplanner_1_1_baseframe.html">Baseframe</a> &gt; const &amp;&#160;</td>
          <td class="paramname"><em>baseframe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="namespaceplanner.html#ac0b7a27a71cfd1896e1d537aa61a05ad">Rtree</a> &gt; const &amp;&#160;</td>
          <td class="paramname"><em>rtree</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructs a Manouver by calculating the coefficients of the polynomnial.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a>, <a href="https://eigen.tuxfamily.org/dox/group__TutorialMatrixClass.html">Eigen::Dense</a>, <a href="http://www.boost.org/doc/libs/1_65_1/libs/geometry/doc/html/geometry/spatial_indexes/introduction.html">boost::geometry::index::rtree</a>, <a href="http://ieeexplore.ieee.org/document/6203588/">Chu2012</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">q_i</td><td>initial offset <img class="formulaInl" alt="$ q_i [m] $" src="form_40.png"/>. </td></tr>
    <tr><td class="paramname">q_f</td><td>final offset <img class="formulaInl" alt="$ q_f [m] $" src="form_41.png"/>. </td></tr>
    <tr><td class="paramname">s_i</td><td>inital arc-length <img class="formulaInl" alt="$ s_i [m] $" src="form_42.png"/>. </td></tr>
    <tr><td class="paramname">v</td><td>vehicle speed <img class="formulaInl" alt="$ v [m/s] $" src="form_43.png"/>. </td></tr>
    <tr><td class="paramname">theta</td><td>difference between vehilce heading and tangent <img class="formulaInl" alt="$\theta$" src="form_44.png"/> [rad]. </td></tr>
    <tr><td class="paramname">baseframe</td><td>observer pointer to <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> of this maneuver. </td></tr>
    <tr><td class="paramname">rtree</td><td>observer pointer to Spatial index used for collision detection, see <a href="http://www.boost.org/doc/libs/1_65_1/libs/geometry/doc/html/geometry/spatial_indexes/introduction.html">boost::geometry::index::rtree</a>. </td></tr>
    <tr><td class="paramname">obstacles</td><td>observer pointer to obstacles used for collision detection.</td></tr>
  </table>
  </dd>
</dl>
<p>The Constructor calculates the coefficients for the cubic-polynomnial</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ q(s) = a(s - s_i)^3 + b(s - s_i)^2 + c(s - s_i) + d \]" src="form_33.png"/>
</p>
<p>that satisfies the following boundary conditions</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\begin{eqnarray*} q(s_i) &amp;=&amp; q_i \\ q(s_f) &amp;=&amp; q_f \\ \frac{\mathrm{d}}{\mathrm{d}s}q(s_i) &amp;=&amp; \tan(\Delta \theta) \\ \frac{\mathrm{d}}{\mathrm{d}s}q(s_i) &amp;=&amp; 0 \\ \end{eqnarray*}" src="form_34.png"/>
</p>
<p>with the following constants:</p><ul>
<li><img class="formulaInl" alt="$s_i \in [0,L] $" src="form_35.png"/> is the initial arc-length along the baseframe [m].</li>
<li><img class="formulaInl" alt="$s_f \in [0,L] \wedge s_f &gt; s_i $" src="form_36.png"/> is the final arc-length [m].</li>
<li><img class="formulaInl" alt="$q_i \in [-q_\mathrm{max}, q_\mathrm{max}]$" src="form_37.png"/> initial offset from <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> [m].</li>
<li><img class="formulaInl" alt="$q_f \in [-q_\mathrm{max}, q_\mathrm{max}]$" src="form_38.png"/> final offset from <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> [m].</li>
<li><img class="formulaInl" alt="$ \Delta \theta $" src="form_39.png"/> difference between <a class="el" href="classplanner_1_1_baseframe.html#a2c85586deaa4a398270c9b570f83bb70" title="calculates the tangent angle in [rad] of baseframe at arc-length . ">Baseframe::theta</a> and vehicle heading [rad].</li>
</ul>
<p>Finding the cofficients that satisfy the boundary conditions is simply a matther of solving the linear system where <img class="formulaInl" alt="$ \Delta s = s_f - s_i $" src="form_45.png"/>.</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \begin{bmatrix} 0 &amp; 0 &amp; 0 &amp; 1 \\ \Delta s^3 &amp; \Delta s^2 &amp; \Delta s &amp; 1 \\ 0 &amp; 0 &amp; 1 &amp; 0 \\ 3\Delta s^2 &amp; 2\Delta s &amp; 1 &amp; 0 \\ \end{bmatrix} \begin{bmatrix} a \\ b \\ c \\ d \end{bmatrix} = \begin{bmatrix} q_i \\ q_f \\ \tan(\Delta \theta) \\ 0.0 \end{bmatrix} \]" src="form_46.png"/>
</p>
<p>Because <img class="formulaInl" alt="$s_i &lt; s_f$" src="form_47.png"/> and therefore <img class="formulaInl" alt="$ \Delta s &gt; 0 $" src="form_48.png"/> this matrix positive definte and therefore can be inverted. The implementation uses <a href="https://eigen.tuxfamily.org/dox/group__TutorialMatrixClass.html">Eigen::Dense</a>.</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \bm{A}\bm{b}= \bm{c} \rightarrow \bm{c} = \bm{A}^{-1}\bm{c} \]" src="form_49.png"/>
</p>
<p>The <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> arc-length at the end of the maneuver <img class="formulaInl" alt="$ s_f $" src="form_50.png"/> is w.r.t. the vehicle speed <img class="formulaInl" alt="$v$" src="form_51.png"/>, maneuver length speed gain <img class="formulaInl" alt="$k_v$" src="form_52.png"/>, and minimum maneuver length <img class="formulaInl" alt="$\Delta s_\mathrm{min}$" src="form_53.png"/>.</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ s_f = s_i + \underbrace{k_v v + \Delta s_\mathrm{min}}_{\Delta s} \]" src="form_54.png"/>
</p>
<p>The design parameters <img class="formulaInl" alt="$\Delta s_\mathrm{min}$" src="form_53.png"/> and <img class="formulaInl" alt="$k_v$" src="form_52.png"/> are implemented as command line flags using <a href="gflags.github.io/gflags/">gflags</a>.</p>
<p>To set the maneuver speed gain <img class="formulaInl" alt="$k_v$" src="form_52.png"/> from the command line, use the command line flag <code>--maneuver_speed_gain=value</code>, where value is a floating point number of double precision. Default is 1.0.</p>
<p>To set the minimum maneuver length <img class="formulaInl" alt="$\Delta s_\mathrm{min} [m]$" src="form_55.png"/> from the command line, use the command line flag <code>--min_maneuver_length=value</code>, where value is a floating point number of double precision. Default is 10.0. </p>

<p>Definition at line <a class="el" href="maneuver_8cc_source.html#l00032">32</a> of file <a class="el" href="maneuver_8cc_source.html">maneuver.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    : <a class="code" href="classplanner_1_1_maneuver.html#a95fbf95d7e673a068919da0ebacb38c3">_q_f</a>{<a class="code" href="classplanner_1_1_maneuver.html#a6932cd20e8131e890b4f5d07b0b61854">q_f</a>},</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;      <a class="code" href="classplanner_1_1_maneuver.html#a480035ee064cf666c9f703ede1cd9ade">_s_i</a>{<a class="code" href="classplanner_1_1_maneuver.html#ac6e9878f65a505e2054c08c66ce178f3">s_i</a>},</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;      <a class="code" href="classplanner_1_1_maneuver.html#a19040da64509158b90dd4e607fada2fa">_baseframe</a>{baseframe},</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;      <a class="code" href="classplanner_1_1_maneuver.html#aa51ccde1a361c326a0cf688006ce3a15">_rtree</a>{rtree},</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;      <a class="code" href="classplanner_1_1_maneuver.html#a1d41f5cbb57cb537aef1a0236dbc7a05">_theta</a>{heading - baseframe-&gt;theta(<a class="code" href="classplanner_1_1_maneuver.html#ac6e9878f65a505e2054c08c66ce178f3">s_i</a>)},</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;      <a class="code" href="classplanner_1_1_maneuver.html#af73ebc0692da57e3b024e49e5b5c2521">_v</a>{velocity},</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;      <a class="code" href="classplanner_1_1_maneuver.html#ac30e088a236836a53f14766734eda63a">_position</a>{position},</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;      <a class="code" href="classplanner_1_1_maneuver.html#a142ea98ee4991a41c5dc43c9e1d7309e">_heading</a>{heading},</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;      <a class="code" href="classplanner_1_1_maneuver.html#ac2c02eac739554662afa7d78d28dc0db">_collision_checked</a>{<span class="keyword">false</span>},</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;      <a class="code" href="classplanner_1_1_maneuver.html#af7ea43fdf6dc2ee92370f9c6683282d0">_drivable</a>{<span class="keyword">true</span>},</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;      <a class="code" href="classplanner_1_1_maneuver.html#a52d9904cbd57d34df3091498a77dc46e">_collision_length</a>{0.0} {</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">double</span> delta_s_f =</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;      FLAGS_manouver_speed_gain * velocity + FLAGS_min_manouver_length;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <a class="code" href="classplanner_1_1_maneuver.html#a7256b5681c90f9f839be10fbe7d440e3">s_f</a>(<a class="code" href="classplanner_1_1_maneuver.html#a480035ee064cf666c9f703ede1cd9ade">_s_i</a> + delta_s_f);</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  Eigen::Matrix4d A;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  Eigen::Vector4d b, c;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  A &lt;&lt; 0, 0, 0, 1,                                         <span class="comment">// end first row</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;      pow(delta_s_f, 3), pow(delta_s_f, 2), delta_s_f, 1,  <span class="comment">// second row</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;      0, 0, 1, 0,                                          <span class="comment">// third</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;      3 * pow(delta_s_f, 2), 2 * delta_s_f, 1, 0;          <span class="comment">// fourth</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  c &lt;&lt; <a class="code" href="classplanner_1_1_maneuver.html#a8d56aed4723518fa303a70eaa998ae4b">q_i</a>, <a class="code" href="classplanner_1_1_maneuver.html#a6932cd20e8131e890b4f5d07b0b61854">q_f</a>, tan(<a class="code" href="classplanner_1_1_maneuver.html#a1d41f5cbb57cb537aef1a0236dbc7a05">_theta</a>), 0.0;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  b = A.inverse() * c;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <a class="code" href="classplanner_1_1_maneuver.html#acc434d2e32df019818b4864738ec57b9">_a</a> = b(0), <a class="code" href="classplanner_1_1_maneuver.html#adc645c775daef277f6e828adc08f9a76">_b</a> = b(1), <a class="code" href="classplanner_1_1_maneuver.html#acfb36e00ac1e522e1903dd51d55399ee">_c</a> = b(2), <a class="code" href="classplanner_1_1_maneuver.html#a8d8755d44750a03033497aa3a766fc36">_d</a> = b(3);</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;}</div><div class="ttc" id="classplanner_1_1_maneuver_html_ac6e9878f65a505e2054c08c66ce178f3"><div class="ttname"><a href="classplanner_1_1_maneuver.html#ac6e9878f65a505e2054c08c66ce178f3">planner::Maneuver::s_i</a></div><div class="ttdeci">double s_i() const  noexcept</div><div class="ttdoc">getter for the initial arc-length along the Baseframe  [m]. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00207">maneuver.h:207</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a6932cd20e8131e890b4f5d07b0b61854"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a6932cd20e8131e890b4f5d07b0b61854">planner::Maneuver::q_f</a></div><div class="ttdeci">double q_f() const  noexcept</div><div class="ttdoc">getter for the final offset from the Baseframe  [m]. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00224">maneuver.h:224</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_acc434d2e32df019818b4864738ec57b9"><div class="ttname"><a href="classplanner_1_1_maneuver.html#acc434d2e32df019818b4864738ec57b9">planner::Maneuver::_a</a></div><div class="ttdeci">double _a</div><div class="ttdoc">coefficient a </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00592">maneuver.h:592</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a142ea98ee4991a41c5dc43c9e1d7309e"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a142ea98ee4991a41c5dc43c9e1d7309e">planner::Maneuver::_heading</a></div><div class="ttdeci">double _heading</div><div class="ttdoc">heading of the vehicle, used in Maneuver::path </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00607">maneuver.h:607</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_acfb36e00ac1e522e1903dd51d55399ee"><div class="ttname"><a href="classplanner_1_1_maneuver.html#acfb36e00ac1e522e1903dd51d55399ee">planner::Maneuver::_c</a></div><div class="ttdeci">double _c</div><div class="ttdoc">coefficient c </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00600">maneuver.h:600</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a480035ee064cf666c9f703ede1cd9ade"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a480035ee064cf666c9f703ede1cd9ade">planner::Maneuver::_s_i</a></div><div class="ttdeci">double _s_i</div><div class="ttdoc">initial arc-length along Baseframe  [m]. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00580">maneuver.h:580</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a95fbf95d7e673a068919da0ebacb38c3"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a95fbf95d7e673a068919da0ebacb38c3">planner::Maneuver::_q_f</a></div><div class="ttdeci">double _q_f</div><div class="ttdoc">final offset from Baseframe  [m]. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00579">maneuver.h:579</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a52d9904cbd57d34df3091498a77dc46e"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a52d9904cbd57d34df3091498a77dc46e">planner::Maneuver::_collision_length</a></div><div class="ttdeci">double _collision_length</div><div class="ttdoc">stores length where collision occured - 0.0 for non collision. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00637">maneuver.h:637</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_af7ea43fdf6dc2ee92370f9c6683282d0"><div class="ttname"><a href="classplanner_1_1_maneuver.html#af7ea43fdf6dc2ee92370f9c6683282d0">planner::Maneuver::_drivable</a></div><div class="ttdeci">bool _drivable</div><div class="ttdoc">flag if this path is reasonable for a non-holonomic vehicle with the maximal curvature of  ...</div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00646">maneuver.h:646</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_adc645c775daef277f6e828adc08f9a76"><div class="ttname"><a href="classplanner_1_1_maneuver.html#adc645c775daef277f6e828adc08f9a76">planner::Maneuver::_b</a></div><div class="ttdeci">double _b</div><div class="ttdoc">coefficient b </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00596">maneuver.h:596</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_ac30e088a236836a53f14766734eda63a"><div class="ttname"><a href="classplanner_1_1_maneuver.html#ac30e088a236836a53f14766734eda63a">planner::Maneuver::_position</a></div><div class="ttdeci">point _position</div><div class="ttdoc">position of the vehicle, used for Maneuver::path </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00606">maneuver.h:606</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a7256b5681c90f9f839be10fbe7d440e3"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a7256b5681c90f9f839be10fbe7d440e3">planner::Maneuver::s_f</a></div><div class="ttdeci">double s_f() const  noexcept</div><div class="ttdoc">getter for the final arc-length along the Baseframe . </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00194">maneuver.h:194</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a8d56aed4723518fa303a70eaa998ae4b"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a8d56aed4723518fa303a70eaa998ae4b">planner::Maneuver::q_i</a></div><div class="ttdeci">double q_i() const  noexcept</div><div class="ttdoc">getter for the initial offset from the Baseframe  [m]. this is equal to _d </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00220">maneuver.h:220</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_af73ebc0692da57e3b024e49e5b5c2521"><div class="ttname"><a href="classplanner_1_1_maneuver.html#af73ebc0692da57e3b024e49e5b5c2521">planner::Maneuver::_v</a></div><div class="ttdeci">double _v</div><div class="ttdoc">forward velocity of the vehicle  [m/s] </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00587">maneuver.h:587</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_ac2c02eac739554662afa7d78d28dc0db"><div class="ttname"><a href="classplanner_1_1_maneuver.html#ac2c02eac739554662afa7d78d28dc0db">planner::Maneuver::_collision_checked</a></div><div class="ttdeci">bool _collision_checked</div><div class="ttdoc">flag indicates if collision was already calculated. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00632">maneuver.h:632</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a1d41f5cbb57cb537aef1a0236dbc7a05"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a1d41f5cbb57cb537aef1a0236dbc7a05">planner::Maneuver::_theta</a></div><div class="ttdeci">double _theta</div><div class="ttdoc">difference between vehicle heading and tangent angle of baseframe  </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00586">maneuver.h:586</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a8d8755d44750a03033497aa3a766fc36"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a8d8755d44750a03033497aa3a766fc36">planner::Maneuver::_d</a></div><div class="ttdeci">double _d</div><div class="ttdoc">coefficient d </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00604">maneuver.h:604</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_aa51ccde1a361c326a0cf688006ce3a15"><div class="ttname"><a href="classplanner_1_1_maneuver.html#aa51ccde1a361c326a0cf688006ce3a15">planner::Maneuver::_rtree</a></div><div class="ttdeci">std::shared_ptr&lt; Rtree &gt; _rtree</div><div class="ttdoc">Spatial index observer for collision checking. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00627">maneuver.h:627</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a19040da64509158b90dd4e607fada2fa"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a19040da64509158b90dd4e607fada2fa">planner::Maneuver::_baseframe</a></div><div class="ttdeci">std::shared_ptr&lt; Baseframe &gt; _baseframe</div><div class="ttdoc">Baseframe for this maneuver. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00617">maneuver.h:617</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="abacdffa7119f278e7d9211e9b0f02425"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double planner::Maneuver::C_c </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classplanner_1_1_maneuver.html">Maneuver</a> &amp;&#160;</td>
          <td class="paramname"><em>previous</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Consistency cost function <img class="formulaInl" alt="$C_c$" src="form_67.png"/>. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classplanner_1_1_maneuver.html#a4bb50ba60d1c1a478a60be23cf10cc19" title="linear combination of cost functions with weighting factors. ">J</a>, <a href="http://www.boost.org/doc/libs/1_65_0/libs/math/doc/html/math_toolkit/quadrature/trapezoidal.html">boost::math::trapezoidal</a>,<a href="http://ieeexplore.ieee.org/document/6203588/">Chu2012</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">previous</td><td>reference to the previous maneuver, choosen by the <a class="el" href="classplanner_1_1_planner.html" title="A local path planner for autonomous driving. ">Planner</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the consistency cost for this maneuver. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::domain_error</td><td>if <img class="formulaInl" alt="$ s_1 \geq s_2 \vee s_1 \notin [0,L] \vee s_2 \notin [0,L] $" src="form_83.png"/></td></tr>
  </table>
  </dd>
</dl>
<p>The consistency cost of a path influences the driving dynamic by calculating the cost for "change'' that a maneuver introduces w.r.t. to the last maneuver that was choosen by the planner. The cost can be calculated by integrating the distance <img class="formulaInl" alt="$|q - q_p|$" src="form_84.png"/> for the overlapping sections of the maneuvers.</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ C_c = \frac{1}{s_2 - s_1} \int^{s_2}_{s_1} |q(s) - q_p(s)| \;\mathrm{d}s \]" src="form_85.png"/>
</p>
<p>where</p><ul>
<li><img class="formulaInl" alt="$s_1$" src="form_86.png"/> is the <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> arc-length at the start of the overlapping section</li>
<li><img class="formulaInl" alt="$s_2$" src="form_87.png"/> is the <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> arc-length at the end of the overlapping section</li>
<li><img class="formulaInl" alt="$q: s \in [0, L] \rightarrow q \in [-q_\mathrm{max},q_\mathrm{max}]$" src="form_88.png"/> is the offset function q for this maneuver.</li>
<li><img class="formulaInl" alt="$q_p: s \in [0, L] \rightarrow q_p \in [-q_\mathrm{max},q_\mathrm{max}]$" src="form_89.png"/> is the offset function q for the previous maneuver.</li>
</ul>
<p>The numerical integration is implemented using <a href="http://www.boost.org/doc/libs/1_65_0/libs/math/doc/html/math_toolkit/quadrature/trapezoidal.html">boost::math::trapezoidal</a>.</p>
<p>Note: the definition in <a href="http://ieeexplore.ieee.org/document/6203588/">Chu2012</a> of this function uses the euclidiean distance in the Carthesian coordinatesystem to calculate the safetycost, but since the transformation between the curvilinear and the Carthesian coordinatesystem is linear (see path and gen_path) the distance in curvilinear and Carthesian coordinates express the same relation. The implementation introduced here is far simpler, more performant and exact, since this implementation allows the use of trapezoidial quadrature while with the discrete path explicit euler would have been used. </p>

<p>Definition at line <a class="el" href="maneuver_8cc_source.html#l00199">199</a> of file <a class="el" href="maneuver_8cc_source.html">maneuver.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                                                   {</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">double</span> s_1 = <a class="code" href="classplanner_1_1_maneuver.html#ac6e9878f65a505e2054c08c66ce178f3">s_i</a>();</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">double</span> s_2 = <a class="code" href="classplanner_1_1_maneuver.html#a7256b5681c90f9f839be10fbe7d440e3">s_f</a>();</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="comment">// TODO(roman): handle this better!</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="keywordflow">if</span> (s_1 &gt; previous.s_f()) {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">throw</span> std::domain_error(<span class="stringliteral">&quot;Maneuvers do not overlap!&quot;</span>);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  }</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keyword">auto</span> l = [<span class="keyword">this</span>, &amp;previous](<span class="keywordtype">double</span> s) {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="namespaceplanner.html#a00dc2e45d34fb5441af4d23fbde47b62">point</a> a(s, <a class="code" href="classplanner_1_1_maneuver.html#aa882d07bf4448dd3ca5471def0a3eb89">q</a>(s));</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <a class="code" href="namespaceplanner.html#a00dc2e45d34fb5441af4d23fbde47b62">point</a> b(s, previous.q(s));</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">return</span> bg::distance(a, b);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  };</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keywordtype">double</span> result = 1 / (s_2 - s_1) * trapezoidal(l, s_1, s_2);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;}</div><div class="ttc" id="classplanner_1_1_maneuver_html_ac6e9878f65a505e2054c08c66ce178f3"><div class="ttname"><a href="classplanner_1_1_maneuver.html#ac6e9878f65a505e2054c08c66ce178f3">planner::Maneuver::s_i</a></div><div class="ttdeci">double s_i() const  noexcept</div><div class="ttdoc">getter for the initial arc-length along the Baseframe  [m]. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00207">maneuver.h:207</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_aa882d07bf4448dd3ca5471def0a3eb89"><div class="ttname"><a href="classplanner_1_1_maneuver.html#aa882d07bf4448dd3ca5471def0a3eb89">planner::Maneuver::q</a></div><div class="ttdeci">double q(double s) const </div><div class="ttdoc">Calculate the offset from the Baseframe at s . </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8cc_source.html#l00063">maneuver.cc:63</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a7256b5681c90f9f839be10fbe7d440e3"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a7256b5681c90f9f839be10fbe7d440e3">planner::Maneuver::s_f</a></div><div class="ttdeci">double s_f() const  noexcept</div><div class="ttdoc">getter for the final arc-length along the Baseframe . </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00194">maneuver.h:194</a></div></div>
<div class="ttc" id="namespaceplanner_html_a00dc2e45d34fb5441af4d23fbde47b62"><div class="ttname"><a href="namespaceplanner.html#a00dc2e45d34fb5441af4d23fbde47b62">planner::point</a></div><div class="ttdeci">bg::model::d2::point_xy&lt; double &gt; point</div><div class="ttdef"><b>Definition:</b> <a href="typedefs_8h_source.html#l00013">typedefs.h:13</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab87f05a9b683739ef04f6f1286956ff4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double planner::Maneuver::C_k </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Smoothness cost function <img class="formulaInl" alt="$ C_\kappa $" src="form_81.png"/>. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classplanner_1_1_maneuver.html#a4bb50ba60d1c1a478a60be23cf10cc19" title="linear combination of cost functions with weighting factors. ">J</a>, <a href="http://www.boost.org/doc/libs/1_65_0/libs/math/doc/html/math_toolkit/quadrature/trapezoidal.html">boost::math::trapezoidal</a>,<a href="http://ieeexplore.ieee.org/document/6203588/">Chu2012</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>the smoothness cost for this maneuver.</dd></dl>
<p>The smoothess of the path can be described as the integral of it's curvature over the length of the path. Since the true length of the path is unknown, and not needed, the integration can be done by integrating ofer the lenght of the baseframe that the maneuver covers and projecting the curvature onto the baseframe using Q.</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ C_\kappa = \int \kappa^2(s)\; \mathrm{d}s_p = \int \kappa^2(s)Q(s)\; \mathrm{d}s \]" src="form_82.png"/>
</p>
<p>The numerical integration is implemented using <a href="http://www.boost.org/doc/libs/1_65_0/libs/math/doc/html/math_toolkit/quadrature/trapezoidal.html">boost::math::trapezoidal</a>. </p>

<p>Definition at line <a class="el" href="maneuver_8cc_source.html#l00194">194</a> of file <a class="el" href="maneuver_8cc_source.html">maneuver.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                           {</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keyword">auto</span> l = [<span class="keyword">this</span>](<span class="keyword">const</span> <span class="keywordtype">double</span> s) { <span class="keywordflow">return</span> pow(<a class="code" href="classplanner_1_1_maneuver.html#aba3082a11dcc4f6dbb1352154c308563">curvature</a>(s), 2) * <a class="code" href="classplanner_1_1_maneuver.html#a38c9fbed88221629e32274b0962ee00f">Q</a>(s); };</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="keywordflow">return</span> trapezoidal(l, <a class="code" href="classplanner_1_1_maneuver.html#ac6e9878f65a505e2054c08c66ce178f3">s_i</a>(), <a class="code" href="classplanner_1_1_maneuver.html#a7256b5681c90f9f839be10fbe7d440e3">s_f</a>());</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;}</div><div class="ttc" id="classplanner_1_1_maneuver_html_ac6e9878f65a505e2054c08c66ce178f3"><div class="ttname"><a href="classplanner_1_1_maneuver.html#ac6e9878f65a505e2054c08c66ce178f3">planner::Maneuver::s_i</a></div><div class="ttdeci">double s_i() const  noexcept</div><div class="ttdoc">getter for the initial arc-length along the Baseframe  [m]. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00207">maneuver.h:207</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_aba3082a11dcc4f6dbb1352154c308563"><div class="ttname"><a href="classplanner_1_1_maneuver.html#aba3082a11dcc4f6dbb1352154c308563">planner::Maneuver::curvature</a></div><div class="ttdeci">double curvature(const double s) const </div><div class="ttdoc">Curvature of the Maneuver at arc-length of Baseframe s. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8cc_source.html#l00117">maneuver.cc:117</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a7256b5681c90f9f839be10fbe7d440e3"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a7256b5681c90f9f839be10fbe7d440e3">planner::Maneuver::s_f</a></div><div class="ttdeci">double s_f() const  noexcept</div><div class="ttdoc">getter for the final arc-length along the Baseframe . </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00194">maneuver.h:194</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a38c9fbed88221629e32274b0962ee00f"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a38c9fbed88221629e32274b0962ee00f">planner::Maneuver::Q</a></div><div class="ttdeci">double Q(const double s) const </div><div class="ttdoc"> </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8cc_source.html#l00109">maneuver.cc:109</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5540cf6d27d9c31c759cbebc0dc3fb50"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double planner::Maneuver::C_s </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; std::vector&lt; <a class="el" href="classplanner_1_1_maneuver.html">Maneuver</a> &gt;&gt;&#160;</td>
          <td class="paramname"><em>maneuvers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>sigma</em> = <code>FLAGS_collision_standart_deviation</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Safety cost function <img class="formulaInl" alt="$ C_s $" src="form_69.png"/>. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classplanner_1_1_maneuver.html#a4bb50ba60d1c1a478a60be23cf10cc19" title="linear combination of cost functions with weighting factors. ">J</a>, <a href="http://www.boost.org/doc/libs/1_65_1/libs/math/doc/html/math_toolkit/dist_ref/dists/normal_dist.html">boost::math::normal_distribution</a>,<a href="http://ieeexplore.ieee.org/document/6203588/">Chu2012</a>,<a href="http://planning.cs.uiuc.edu/ch5.pdf">LaValleChap5.</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">maneuver</td><td>all maneuver that are considered in this planning cycle. </td></tr>
    <tr><td class="paramname">sigma</td><td>standard deviation <img class="formulaInl" alt="$ \sigma $" src="form_70.png"/> of the collision risk normal distribution. This can be set from the command line using the <a href="gflags.github.io/gflags/">gflag</a> <code>--collision_standart_deviation=value</code>. Default is 1.0. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the saefty cost for this maneuver.</dd></dl>
<p>The safety-cost of a maneuver is equal to it's risk of collison. This can be calculated by</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \sum_{i = 1}^N \Phi(m_i)g(q_{i,f};\mu = q_f, \sigma^2) \]" src="form_71.png"/>
</p>
<p>where:</p><ul>
<li><img class="formulaInl" alt="$\Phi: m \rightarrow \{0,1\} $" src="form_72.png"/> where <img class="formulaInl" alt="$ m \in \mathcal{M} $" src="form_73.png"/> and <img class="formulaInl" alt="$ \mathcal{M} $" src="form_74.png"/> is the set of all maneuvers in this planning cycle. This function performs the collision check. See <a href="http://planning.cs.uiuc.edu/ch5.pdf">LaValleChap5.</a>, <a class="el" href="classplanner_1_1_maneuver.html#a355986a548281ad5087477e5da494167" title="Collision checking function . ">Maneuver::collision</a>.</li>
<li><img class="formulaInl" alt="$g(x; \mu, \sigma) $" src="form_75.png"/> is the propability density function of the normal distribution <img class="formulaInl" alt="$\mathcal{N}(\mu,\sigma)$" src="form_76.png"/>.</li>
<li><img class="formulaInl" alt="$m_i \in \mathcal{M}$" src="form_77.png"/> is a maneuver of this planning cycle and <img class="formulaInl" alt="$ \mathcal{M} $" src="form_74.png"/> is the set of all maneuvers in this planning cycle.</li>
<li><img class="formulaInl" alt="$ q_{i,f} $" src="form_78.png"/> is the final offset from the <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> of the maneuver <img class="formulaInl" alt="$m_i$" src="form_79.png"/>.</li>
<li><img class="formulaInl" alt="$ q_f$" src="form_80.png"/> is the final offset from the baseframe of this maneuver.</li>
</ul>
<p>This implementation uses <a href="http://www.boost.org/doc/libs/1_65_1/libs/math/doc/html/math_toolkit/dist_ref/dists/normal_dist.html">boost::math::normal_distribution</a>. </p>

<p>Definition at line <a class="el" href="maneuver_8cc_source.html#l00182">182</a> of file <a class="el" href="maneuver_8cc_source.html">maneuver.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                                               {</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keywordtype">double</span> result = 0.0;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  normal g(<a class="code" href="classplanner_1_1_maneuver.html#a6932cd20e8131e890b4f5d07b0b61854">q_f</a>(), sigma);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;m : *maneuvers) {</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    result += <span class="keyword">static_cast&lt;</span><span class="keywordtype">bool</span><span class="keyword">&gt;</span>(m.collision()) * pdf(g, m.q_f());</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  }</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;}</div><div class="ttc" id="classplanner_1_1_maneuver_html_a6932cd20e8131e890b4f5d07b0b61854"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a6932cd20e8131e890b4f5d07b0b61854">planner::Maneuver::q_f</a></div><div class="ttdeci">double q_f() const  noexcept</div><div class="ttdoc">getter for the final offset from the Baseframe  [m]. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00224">maneuver.h:224</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a355986a548281ad5087477e5da494167"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double planner::Maneuver::collision </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Collision checking function <img class="formulaInl" alt="$ \Phi: m \in \mathcal{M} \rightarrow s \in [0,L] $" src="form_63.png"/>. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classplanner_1_1_maneuver.html#a5540cf6d27d9c31c759cbebc0dc3fb50" title="Safety cost function . ">C_s</a>, <a class="el" href="classplanner_1_1_maneuver.html#a4bb50ba60d1c1a478a60be23cf10cc19" title="linear combination of cost functions with weighting factors. ">J</a>, <a class="el" href="classplanner_1_1_maneuver.html#aa51ccde1a361c326a0cf688006ce3a15" title="Spatial index observer for collision checking. ">_rtree</a>, <a class="el" href="classplanner_1_1_planner.html#a42a8661f8684f0e82dca5986c60f49f7">Planner::_rtree</a>, <a class="el" href="classplanner_1_1_planner.html#a4e65a6e98c7f907d06d467760f6e0ed3" title="Compute a path that minimizes the cost function Maneuver::J. ">Planner::update</a> <a href="http://planning.cs.uiuc.edu/ch5.pdf">LaValleChap5.</a>,<a href="http://www.boost.org/doc/libs/1_65_1/libs/geometry/doc/html/geometry/quickstart.html">boost::geometry</a>,<a href="http://www.boost.org/doc/libs/1_65_1/libs/geometry/doc/html/geometry/spatial_indexes/introduction.html">boost::geometry::index::rtree</a>,<a href="http://www.boost.org/doc/libs/1_65_1/libs/geometry/doc/html/geometry/reference/algorithms/transform/transform_3_with_strategy.html">boost::geomerty::strategy::transform</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>length at which collsion was detected, 0.0 if no collison appears [m].</dd></dl>
<p>This performs the collision check for all discrete poses in this maneuver. Since naive collision checking involves checking all distances to all stored obstacles it is not feasible from a performance point of view. This implements a more sophisticated approach using both, axis aligned bounding boxes and object orientated bounding boxes <a href="http://planning.cs.uiuc.edu/ch5.pdf">LaValleChap5.</a>.</p>
<p>The load is reduced by using a Rtree <a href="http://www.boost.org/doc/libs/1_65_1/libs/geometry/doc/html/geometry/spatial_indexes/introduction.html">boost::geometry::index::rtree</a> as spatial index for efficient searching. The index itself is populated in <a class="el" href="classplanner_1_1_planner.html#a4e65a6e98c7f907d06d467760f6e0ed3" title="Compute a path that minimizes the cost function Maneuver::J. ">Planner::update</a> and availabe in Manouver via <a class="el" href="classplanner_1_1_maneuver.html#aa51ccde1a361c326a0cf688006ce3a15" title="Spatial index observer for collision checking. ">Maneuver::_rtree</a>. For every pose in a discrete path, first the object aligned bounding box is computed using <a href="http://www.boost.org/doc/libs/1_65_1/libs/geometry/doc/html/geometry/quickstart.html">boost::geometry</a> and <a href="http://www.boost.org/doc/libs/1_65_1/libs/geometry/doc/html/geometry/reference/algorithms/transform/transform_3_with_strategy.html">boost::geomerty::strategy::transform</a>, from which the axis aligned bounding box can be obtaind via it's envelope.</p>
<p>This axis aligned bounding box is used to search the rtree for overlapping bounding boxes (that indicate the risk of collision). For all risks an actual collison check by checking if the obstacle aligned bounding boxes overlap, can be performed. If a collision is detected, the lenght <img class="formulaInl" alt="$s$" src="form_3.png"/> along the <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> at which the collsion would occur is returned. </p>

<p>Definition at line <a class="el" href="maneuver_8cc_source.html#l00215">215</a> of file <a class="el" href="maneuver_8cc_source.html">maneuver.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                           {</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <span class="comment">// if a collision check was already performed, return the result</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classplanner_1_1_maneuver.html#ac2c02eac739554662afa7d78d28dc0db">_collision_checked</a>) <span class="keywordflow">return</span> <a class="code" href="classplanner_1_1_maneuver.html#a52d9904cbd57d34df3091498a77dc46e">_collision_length</a>;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <a class="code" href="classplanner_1_1_maneuver.html#a52d9904cbd57d34df3091498a77dc46e">_collision_length</a> = 0.0;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <a class="code" href="classplanner_1_1_maneuver.html#ac2c02eac739554662afa7d78d28dc0db">_collision_checked</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  Car car;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;p : <a class="code" href="classplanner_1_1_maneuver.html#a0a8ba3e3f40627ffdb81b9aeb3ff05e1">path</a>()) {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="comment">// search spatial index for possible collisions</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    std::vector&lt;value&gt; collision_risk;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <a class="code" href="classplanner_1_1_maneuver.html#aa51ccde1a361c326a0cf688006ce3a15">_rtree</a>-&gt;query(bgi::intersects(car.aabb(p)),</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                  std::back_inserter(collision_risk));</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="comment">// perfom the actual collision check.</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;risk : collision_risk) {</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      <a class="code" href="namespaceplanner.html#a7e09287c32f4eadb03fba2f70058af88">polygon</a> obstacle{*risk.second};</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      <span class="keywordflow">if</span> (bg::intersects(car.obb(p), obstacle)) {  <span class="comment">// collision detected</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <a class="code" href="classplanner_1_1_maneuver.html#a52d9904cbd57d34df3091498a77dc46e">_collision_length</a> = p.s;  <span class="comment">// return length at collison and stop loop.</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classplanner_1_1_maneuver.html#a52d9904cbd57d34df3091498a77dc46e">_collision_length</a>;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      }</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    }</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  }</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classplanner_1_1_maneuver.html#a52d9904cbd57d34df3091498a77dc46e">_collision_length</a>;  <span class="comment">// return 0.0 - no collision detected</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;}</div><div class="ttc" id="classplanner_1_1_maneuver_html_a52d9904cbd57d34df3091498a77dc46e"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a52d9904cbd57d34df3091498a77dc46e">planner::Maneuver::_collision_length</a></div><div class="ttdeci">double _collision_length</div><div class="ttdoc">stores length where collision occured - 0.0 for non collision. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00637">maneuver.h:637</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a0a8ba3e3f40627ffdb81b9aeb3ff05e1"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a0a8ba3e3f40627ffdb81b9aeb3ff05e1">planner::Maneuver::path</a></div><div class="ttdeci">std::vector&lt; pose &gt; path()</div><div class="ttdoc">calculates a discrete path in carthesian coordinates as a set of vehicle poses. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8cc_source.html#l00142">maneuver.cc:142</a></div></div>
<div class="ttc" id="namespaceplanner_html_a7e09287c32f4eadb03fba2f70058af88"><div class="ttname"><a href="namespaceplanner.html#a7e09287c32f4eadb03fba2f70058af88">planner::polygon</a></div><div class="ttdeci">bg::model::polygon&lt; point &gt; polygon</div><div class="ttdef"><b>Definition:</b> <a href="typedefs_8h_source.html#l00014">typedefs.h:14</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_ac2c02eac739554662afa7d78d28dc0db"><div class="ttname"><a href="classplanner_1_1_maneuver.html#ac2c02eac739554662afa7d78d28dc0db">planner::Maneuver::_collision_checked</a></div><div class="ttdeci">bool _collision_checked</div><div class="ttdoc">flag indicates if collision was already calculated. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00632">maneuver.h:632</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_aa51ccde1a361c326a0cf688006ce3a15"><div class="ttname"><a href="classplanner_1_1_maneuver.html#aa51ccde1a361c326a0cf688006ce3a15">planner::Maneuver::_rtree</a></div><div class="ttdeci">std::shared_ptr&lt; Rtree &gt; _rtree</div><div class="ttdoc">Spatial index observer for collision checking. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00627">maneuver.h:627</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aba3082a11dcc4f6dbb1352154c308563"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double planner::Maneuver::curvature </td>
          <td>(</td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Curvature of the <a class="el" href="classplanner_1_1_maneuver.html" title="A Maneuver describes a path in curvilinear- and carthesian coordinates. ">Maneuver</a> at arc-length of <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> s. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classplanner_1_1_baseframe.html#a039ed89d4c15884ec6d4c1f5a8c28714" title="curvature of the baseframe at arc-length . ">Baseframe::curvature</a>, <a class="el" href="classplanner_1_1_maneuver.html#ae6581889f33e78361b7c17c83550f639">S</a>, <a class="el" href="classplanner_1_1_maneuver.html#a38c9fbed88221629e32274b0962ee00f" title=" ">Q</a>, <a class="el" href="classplanner_1_1_maneuver.html#aa882d07bf4448dd3ca5471def0a3eb89" title="Calculate the offset from the Baseframe at s . ">q</a>, <a class="el" href="classplanner_1_1_maneuver.html#a4834d324cb62dd2054b64ac2f7f94d5c">dq</a>, <a class="el" href="classplanner_1_1_maneuver.html#a001c4e6fa8d5147b7770595d625cec9e">ddq</a>, <a href="https://en.wikipedia.org/wiki/Curvature">Curvature</a>, <a href="https://www.researchgate.net/publication/224156269_Optimal_Trajectory_Generation_for_Dynamic_Street_Scenarios_in_a_Frenet_Frame">Werling2010</a>, <a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.362.8916&amp;rep=rep1&amp;type=pdf">Barfoot2004</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td><img class="formulaInl" alt="$ \in [0,L] $" src="form_56.png"/> where <img class="formulaInl" alt="$L$" src="form_5.png"/> is the total length of the Basefame. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::domain_error</td><td>if <img class="formulaInl" alt="$s \notin [0,L]$" src="form_57.png"/></td></tr>
  </table>
  </dd>
</dl>
<p>The curvature of the continous path at <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> arc-length <img class="formulaInl" alt="$s$" src="form_3.png"/> can be computed as</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \kappa = \frac{S}{Q}\left(\frac{(1-q\kappa_b)\frac{\mathrm{d}^2q}{\mathrm{d}s^2}+\kappa_s\left(\frac{\mathrm{d}q}{\mathrm{d}s}\right)^2}{Q^2}\right) \]" src="form_58.png"/>
</p>
<p>for a full derivation of this, please refere to <a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.362.8916&amp;rep=rep1&amp;type=pdf">Barfoot2004</a> and <a href="https://www.researchgate.net/publication/224156269_Optimal_Trajectory_Generation_for_Dynamic_Street_Scenarios_in_a_Frenet_Frame">Werling2010</a>. </p>

<p>Definition at line <a class="el" href="maneuver_8cc_source.html#l00117">117</a> of file <a class="el" href="maneuver_8cc_source.html">maneuver.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                                               {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keywordtype">double</span> K_b = <a class="code" href="classplanner_1_1_maneuver.html#a19040da64509158b90dd4e607fada2fa">_baseframe</a>-&gt;curvature(s);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordtype">double</span> k =</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;      (<a class="code" href="classplanner_1_1_maneuver.html#ae6581889f33e78361b7c17c83550f639">S</a>(s) / <a class="code" href="classplanner_1_1_maneuver.html#a38c9fbed88221629e32274b0962ee00f">Q</a>(s)) *</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      (K_b + ((1 - <a class="code" href="classplanner_1_1_maneuver.html#aa882d07bf4448dd3ca5471def0a3eb89">q</a>(s) * K_b) * <a class="code" href="classplanner_1_1_maneuver.html#a001c4e6fa8d5147b7770595d625cec9e">ddq</a>(s) + K_b * pow(<a class="code" href="classplanner_1_1_maneuver.html#a4834d324cb62dd2054b64ac2f7f94d5c">dq</a>(s), 2)) / pow(<a class="code" href="classplanner_1_1_maneuver.html#a38c9fbed88221629e32274b0962ee00f">Q</a>(s), 2));</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordflow">return</span> k;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;}</div><div class="ttc" id="classplanner_1_1_maneuver_html_ae6581889f33e78361b7c17c83550f639"><div class="ttname"><a href="classplanner_1_1_maneuver.html#ae6581889f33e78361b7c17c83550f639">planner::Maneuver::S</a></div><div class="ttdeci">double S(const double s) const </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8cc_source.html#l00113">maneuver.cc:113</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_aa882d07bf4448dd3ca5471def0a3eb89"><div class="ttname"><a href="classplanner_1_1_maneuver.html#aa882d07bf4448dd3ca5471def0a3eb89">planner::Maneuver::q</a></div><div class="ttdeci">double q(double s) const </div><div class="ttdoc">Calculate the offset from the Baseframe at s . </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8cc_source.html#l00063">maneuver.cc:63</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a001c4e6fa8d5147b7770595d625cec9e"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a001c4e6fa8d5147b7770595d625cec9e">planner::Maneuver::ddq</a></div><div class="ttdeci">double ddq(double s) const </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8cc_source.html#l00093">maneuver.cc:93</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a4834d324cb62dd2054b64ac2f7f94d5c"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a4834d324cb62dd2054b64ac2f7f94d5c">planner::Maneuver::dq</a></div><div class="ttdeci">double dq(double s) const </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8cc_source.html#l00077">maneuver.cc:77</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a19040da64509158b90dd4e607fada2fa"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a19040da64509158b90dd4e607fada2fa">planner::Maneuver::_baseframe</a></div><div class="ttdeci">std::shared_ptr&lt; Baseframe &gt; _baseframe</div><div class="ttdoc">Baseframe for this maneuver. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00617">maneuver.h:617</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a38c9fbed88221629e32274b0962ee00f"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a38c9fbed88221629e32274b0962ee00f">planner::Maneuver::Q</a></div><div class="ttdeci">double Q(const double s) const </div><div class="ttdoc"> </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8cc_source.html#l00109">maneuver.cc:109</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a001c4e6fa8d5147b7770595d625cec9e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double planner::Maneuver::ddq </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classplanner_1_1_maneuver.html#acc434d2e32df019818b4864738ec57b9" title="coefficient a ">_a</a>, <a class="el" href="classplanner_1_1_maneuver.html#adc645c775daef277f6e828adc08f9a76" title="coefficient b ">_b</a>,<a class="el" href="classplanner_1_1_maneuver.html#acfb36e00ac1e522e1903dd51d55399ee" title="coefficient c ">_c</a>, <a class="el" href="classplanner_1_1_maneuver.html#a8d8755d44750a03033497aa3a766fc36" title="coefficient d ">_d</a>, <a class="el" href="classplanner_1_1_maneuver.html#a4834d324cb62dd2054b64ac2f7f94d5c">dq</a>, <a class="el" href="classplanner_1_1_maneuver.html#a001c4e6fa8d5147b7770595d625cec9e">ddq</a>, <a class="el" href="classplanner_1_1_maneuver.html#aba3082a11dcc4f6dbb1352154c308563" title="Curvature of the Maneuver at arc-length of Baseframe s. ">curvature</a>, <a class="el" href="classplanner_1_1_maneuver.html" title="A Maneuver describes a path in curvilinear- and carthesian coordinates. ">Maneuver</a>, <a href="http://ieeexplore.ieee.org/document/6203588/">Chu2012</a> </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::domain_error</td><td>if <img class="formulaInl" alt="$ s &lt; s_i $" src="form_99.png"/>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the second derivate of <a class="el" href="classplanner_1_1_maneuver.html#aa882d07bf4448dd3ca5471def0a3eb89" title="Calculate the offset from the Baseframe at s . ">Maneuver::q</a></dd></dl>
<p>Can be analytically computed using</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \frac{\mathrm{d^2}}{\mathrm{d}s^2}q(s) = \begin{cases} 6a(s - s_i) + 2b, &amp;\text{ if } s_i \leq s &lt; s_f\\ 0, &amp;\text{ if } s_f \leq s \end{cases} \]" src="form_102.png"/>
</p>
 
<p>Definition at line <a class="el" href="maneuver_8cc_source.html#l00093">93</a> of file <a class="el" href="maneuver_8cc_source.html">maneuver.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                                   {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keywordtype">double</span> result = 0.0;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordtype">double</span> delta_s = s - <a class="code" href="classplanner_1_1_maneuver.html#a480035ee064cf666c9f703ede1cd9ade">_s_i</a>;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="keywordflow">if</span> (_s_i &lt;= s &amp;&amp; s &lt; <a class="code" href="classplanner_1_1_maneuver.html#a68cdd30dfa19f0848c0df5a7f72ccc8a">_s_f</a>) {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    result = 6 * <a class="code" href="classplanner_1_1_maneuver.html#acc434d2e32df019818b4864738ec57b9">_a</a> * delta_s + 2 * <a class="code" href="classplanner_1_1_maneuver.html#adc645c775daef277f6e828adc08f9a76">_b</a>;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classplanner_1_1_maneuver.html#a68cdd30dfa19f0848c0df5a7f72ccc8a">_s_f</a> &lt;= s) {</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    result = 0.0;  <span class="comment">// this is redundant - but makes the code more readable</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="comment">// result = 0.0;  // this is redundant - but makes the code more readable</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">throw</span> std::domain_error(<span class="stringliteral">&quot;d^2q/ds^2 is not defined for s &lt; &quot;</span> +</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                            std::to_string(_s_i));</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  }</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div><div class="ttc" id="classplanner_1_1_maneuver_html_acc434d2e32df019818b4864738ec57b9"><div class="ttname"><a href="classplanner_1_1_maneuver.html#acc434d2e32df019818b4864738ec57b9">planner::Maneuver::_a</a></div><div class="ttdeci">double _a</div><div class="ttdoc">coefficient a </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00592">maneuver.h:592</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a480035ee064cf666c9f703ede1cd9ade"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a480035ee064cf666c9f703ede1cd9ade">planner::Maneuver::_s_i</a></div><div class="ttdeci">double _s_i</div><div class="ttdoc">initial arc-length along Baseframe  [m]. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00580">maneuver.h:580</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_adc645c775daef277f6e828adc08f9a76"><div class="ttname"><a href="classplanner_1_1_maneuver.html#adc645c775daef277f6e828adc08f9a76">planner::Maneuver::_b</a></div><div class="ttdeci">double _b</div><div class="ttdoc">coefficient b </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00596">maneuver.h:596</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a68cdd30dfa19f0848c0df5a7f72ccc8a"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a68cdd30dfa19f0848c0df5a7f72ccc8a">planner::Maneuver::_s_f</a></div><div class="ttdeci">double _s_f</div><div class="ttdoc">final arc-length along Baseframe  [m]. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00581">maneuver.h:581</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4834d324cb62dd2054b64ac2f7f94d5c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double planner::Maneuver::dq </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classplanner_1_1_maneuver.html#acc434d2e32df019818b4864738ec57b9" title="coefficient a ">_a</a>, <a class="el" href="classplanner_1_1_maneuver.html#adc645c775daef277f6e828adc08f9a76" title="coefficient b ">_b</a>,<a class="el" href="classplanner_1_1_maneuver.html#acfb36e00ac1e522e1903dd51d55399ee" title="coefficient c ">_c</a>, <a class="el" href="classplanner_1_1_maneuver.html#a8d8755d44750a03033497aa3a766fc36" title="coefficient d ">_d</a>, <a class="el" href="classplanner_1_1_maneuver.html#a4834d324cb62dd2054b64ac2f7f94d5c">dq</a>, <a class="el" href="classplanner_1_1_maneuver.html#a001c4e6fa8d5147b7770595d625cec9e">ddq</a>, <a class="el" href="classplanner_1_1_maneuver.html#aba3082a11dcc4f6dbb1352154c308563" title="Curvature of the Maneuver at arc-length of Baseframe s. ">curvature</a>, <a class="el" href="classplanner_1_1_maneuver.html" title="A Maneuver describes a path in curvilinear- and carthesian coordinates. ">Maneuver</a>, <a href="http://ieeexplore.ieee.org/document/6203588/">Chu2012</a> </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::domain_error</td><td>if <img class="formulaInl" alt="$ s &lt; s_i $" src="form_99.png"/>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the first derivate of <a class="el" href="classplanner_1_1_maneuver.html#aa882d07bf4448dd3ca5471def0a3eb89" title="Calculate the offset from the Baseframe at s . ">Maneuver::q</a></dd></dl>
<p>Can be analytically computed using</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \frac{\mathrm{d}}{\mathrm{d}s}q(s) = \begin{cases} 3a(s - s_i)^2 + 2b(s - s_i) + c, &amp;\text{ if } s_i \leq s &lt; s_f\\ 0, &amp;\text{ if } s_f \leq s \end{cases} \]" src="form_101.png"/>
</p>
 
<p>Definition at line <a class="el" href="maneuver_8cc_source.html#l00077">77</a> of file <a class="el" href="maneuver_8cc_source.html">maneuver.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                                  {</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="keywordtype">double</span> result = 0.0;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keywordtype">double</span> delta_s = s - <a class="code" href="classplanner_1_1_maneuver.html#a480035ee064cf666c9f703ede1cd9ade">_s_i</a>;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keywordflow">if</span> (_s_i &lt;= s &amp;&amp; s &lt; <a class="code" href="classplanner_1_1_maneuver.html#a68cdd30dfa19f0848c0df5a7f72ccc8a">_s_f</a>) {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    result = 3 * <a class="code" href="classplanner_1_1_maneuver.html#acc434d2e32df019818b4864738ec57b9">_a</a> * pow(delta_s, 2) + 2 * <a class="code" href="classplanner_1_1_maneuver.html#adc645c775daef277f6e828adc08f9a76">_b</a> * delta_s + <a class="code" href="classplanner_1_1_maneuver.html#acfb36e00ac1e522e1903dd51d55399ee">_c</a>;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classplanner_1_1_maneuver.html#a68cdd30dfa19f0848c0df5a7f72ccc8a">_s_f</a> &lt;= s) {</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    result = 0.0;  <span class="comment">// this is redundant - but makes the code more readable</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="comment">// result = 0.0;  // this is redundant - but makes the code more readable</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">throw</span> std::domain_error(<span class="stringliteral">&quot;dq/ds is not defined for s &lt; &quot;</span> +</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                            std::to_string(_s_i));</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  }</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;}</div><div class="ttc" id="classplanner_1_1_maneuver_html_acc434d2e32df019818b4864738ec57b9"><div class="ttname"><a href="classplanner_1_1_maneuver.html#acc434d2e32df019818b4864738ec57b9">planner::Maneuver::_a</a></div><div class="ttdeci">double _a</div><div class="ttdoc">coefficient a </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00592">maneuver.h:592</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_acfb36e00ac1e522e1903dd51d55399ee"><div class="ttname"><a href="classplanner_1_1_maneuver.html#acfb36e00ac1e522e1903dd51d55399ee">planner::Maneuver::_c</a></div><div class="ttdeci">double _c</div><div class="ttdoc">coefficient c </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00600">maneuver.h:600</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a480035ee064cf666c9f703ede1cd9ade"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a480035ee064cf666c9f703ede1cd9ade">planner::Maneuver::_s_i</a></div><div class="ttdeci">double _s_i</div><div class="ttdoc">initial arc-length along Baseframe  [m]. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00580">maneuver.h:580</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_adc645c775daef277f6e828adc08f9a76"><div class="ttname"><a href="classplanner_1_1_maneuver.html#adc645c775daef277f6e828adc08f9a76">planner::Maneuver::_b</a></div><div class="ttdeci">double _b</div><div class="ttdoc">coefficient b </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00596">maneuver.h:596</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a68cdd30dfa19f0848c0df5a7f72ccc8a"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a68cdd30dfa19f0848c0df5a7f72ccc8a">planner::Maneuver::_s_f</a></div><div class="ttdeci">double _s_f</div><div class="ttdoc">final arc-length along Baseframe  [m]. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00581">maneuver.h:581</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a28b9242c1c2fccdd28f721f91460103b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool planner::Maneuver::driveable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>indicates if this maneuver is driveable for a non-holonomic vehicle </p>
<p>This is true if, and only if </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[\left\{q(s) &lt; \kappa_b(s)^{-1} \wedge |\kappa| \leq \kappa_\mathrm{max} \; | \; \forall s \in [s_i, s_f]\right\}\]" src="form_62.png"/>
</p>
 
<p>Definition at line <a class="el" href="maneuver_8h_source.html#l00237">237</a> of file <a class="el" href="maneuver_8h_source.html">maneuver.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                   {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classplanner_1_1_maneuver.html#af9b45565985e230c95fb607ce8fb9620">_path</a>.empty()) <a class="code" href="classplanner_1_1_maneuver.html#a0a8ba3e3f40627ffdb81b9aeb3ff05e1">path</a>();</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classplanner_1_1_maneuver.html#af7ea43fdf6dc2ee92370f9c6683282d0">_drivable</a>;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  }</div><div class="ttc" id="classplanner_1_1_maneuver_html_af9b45565985e230c95fb607ce8fb9620"><div class="ttname"><a href="classplanner_1_1_maneuver.html#af9b45565985e230c95fb607ce8fb9620">planner::Maneuver::_path</a></div><div class="ttdeci">std::vector&lt; pose &gt; _path</div><div class="ttdoc">discrete path as vector of poses </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00608">maneuver.h:608</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_af7ea43fdf6dc2ee92370f9c6683282d0"><div class="ttname"><a href="classplanner_1_1_maneuver.html#af7ea43fdf6dc2ee92370f9c6683282d0">planner::Maneuver::_drivable</a></div><div class="ttdeci">bool _drivable</div><div class="ttdoc">flag if this path is reasonable for a non-holonomic vehicle with the maximal curvature of  ...</div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00646">maneuver.h:646</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a0a8ba3e3f40627ffdb81b9aeb3ff05e1"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a0a8ba3e3f40627ffdb81b9aeb3ff05e1">planner::Maneuver::path</a></div><div class="ttdeci">std::vector&lt; pose &gt; path()</div><div class="ttdoc">calculates a discrete path in carthesian coordinates as a set of vehicle poses. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8cc_source.html#l00142">maneuver.cc:142</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4bb50ba60d1c1a478a60be23cf10cc19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double planner::Maneuver::J </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classplanner_1_1_maneuver.html">Maneuver</a> &amp;&#160;</td>
          <td class="paramname"><em>previous</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; std::vector&lt; <a class="el" href="classplanner_1_1_maneuver.html">Maneuver</a> &gt;&gt;&#160;</td>
          <td class="paramname"><em>maneuvers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>w_s</em> = <code>FLAGS_weight_safety</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>w_k</em> = <code>FLAGS_weight_smoothness</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>w_c</em> = <code>FLAGS_weight_consistency</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>linear combination of cost functions with weighting factors. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classplanner_1_1_maneuver.html#a5540cf6d27d9c31c759cbebc0dc3fb50" title="Safety cost function . ">C_s</a>, <a class="el" href="classplanner_1_1_maneuver.html#ab87f05a9b683739ef04f6f1286956ff4" title="Smoothness cost function . ">C_k</a>, <a class="el" href="classplanner_1_1_maneuver.html#abacdffa7119f278e7d9211e9b0f02425" title="Consistency cost function . ">C_c</a>,<a href="http://ieeexplore.ieee.org/document/6203588/">Chu2012</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>path cost for this maneuver. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::domain_error</td><td>see <a class="el" href="classplanner_1_1_maneuver.html#a5540cf6d27d9c31c759cbebc0dc3fb50" title="Safety cost function . ">Maneuver::C_s</a></td></tr>
  </table>
  </dd>
</dl>
<p>The overall cost of a maneuver is a linear combination with weigting factors. The weigths function as design parameters and influence the driving style of the vehicle. They can be set from the commandline using the following <a href="gflags.github.io/gflags/">gflags</a>.</p><ul>
<li><code>--weight_saefty=value</code> sets the weight <img class="formulaInl" alt="$w_s$" src="form_64.png"/> of the safety cost <img class="formulaInl" alt="$C_s$" src="form_65.png"/>.</li>
<li><code>--weight_smoothness=value</code> sets the weight <img class="formulaInl" alt="$w_s$" src="form_64.png"/> of the smoothness cost <img class="formulaInl" alt="$C_\kappa$" src="form_66.png"/>.</li>
<li><p class="startli"><code>--weight_consistency=value</code> sets the weight <img class="formulaInl" alt="$w_s$" src="form_64.png"/> of the consistency cost <img class="formulaInl" alt="$C_c$" src="form_67.png"/>.</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ J = w_sC_s + w_\kappa C_\kappa + w_cC_c \]" src="form_68.png"/>
</p>
 </li>
</ul>

<p>Definition at line <a class="el" href="maneuver_8cc_source.html#l00176">176</a> of file <a class="el" href="maneuver_8cc_source.html">maneuver.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                                                             {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="keywordflow">return</span> w_s * <a class="code" href="classplanner_1_1_maneuver.html#a5540cf6d27d9c31c759cbebc0dc3fb50">C_s</a>(maneuvers) + w_k * <a class="code" href="classplanner_1_1_maneuver.html#ab87f05a9b683739ef04f6f1286956ff4">C_k</a>() + w_c * <a class="code" href="classplanner_1_1_maneuver.html#abacdffa7119f278e7d9211e9b0f02425">C_c</a>(previous);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;}</div><div class="ttc" id="classplanner_1_1_maneuver_html_a5540cf6d27d9c31c759cbebc0dc3fb50"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a5540cf6d27d9c31c759cbebc0dc3fb50">planner::Maneuver::C_s</a></div><div class="ttdeci">double C_s(std::shared_ptr&lt; std::vector&lt; Maneuver &gt;&gt; maneuvers, const double sigma=FLAGS_collision_standart_deviation) const </div><div class="ttdoc">Safety cost function . </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8cc_source.html#l00182">maneuver.cc:182</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_ab87f05a9b683739ef04f6f1286956ff4"><div class="ttname"><a href="classplanner_1_1_maneuver.html#ab87f05a9b683739ef04f6f1286956ff4">planner::Maneuver::C_k</a></div><div class="ttdeci">double C_k() const </div><div class="ttdoc">Smoothness cost function . </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8cc_source.html#l00194">maneuver.cc:194</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_abacdffa7119f278e7d9211e9b0f02425"><div class="ttname"><a href="classplanner_1_1_maneuver.html#abacdffa7119f278e7d9211e9b0f02425">planner::Maneuver::C_c</a></div><div class="ttdeci">double C_c(const Maneuver &amp;previous) const </div><div class="ttdoc">Consistency cost function . </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8cc_source.html#l00199">maneuver.cc:199</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0a8ba3e3f40627ffdb81b9aeb3ff05e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="structplanner_1_1pose.html">pose</a> &gt; planner::Maneuver::path </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>calculates a discrete path in carthesian coordinates as a set of vehicle poses. </p>
<dl class="section see"><dt>See also</dt><dd><a href="http://ieeexplore.ieee.org/document/6203588/">Chu2012</a>, <a href="http://www.boost.org/doc/libs/1_65_1/libs/numeric/odeint/doc/html/boost_numeric_odeint/odeint_in_detail/integrate_functions.html">boost::numeric::odeint</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>a discrete path as a set of vehilce poses.</dd></dl>
<p>Vehicle motion in Carthesian-coordinates can be described with the following set of non-linear differential equations. </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ \dot{x}=v\cos\theta, \qquad \dot{y}=v\sin\theta, \qquad \dot{\theta}=v\kappa \]" src="form_90.png"/>
</p>
<p>where:</p><ul>
<li><img class="formulaInl" alt="$v$" src="form_51.png"/> is the forward velocity of the vehicle [m/s].</li>
<li><img class="formulaInl" alt="$\theta$" src="form_44.png"/> is the heading of the vehicle [rad].</li>
<li><img class="formulaInl" alt="$\kappa$" src="form_91.png"/> is the curvature of the path.</li>
</ul>
<p>To describe this set of ODEs not w.r.t. time <img class="formulaInl" alt="$t$" src="form_0.png"/> but with respect to arc-length along <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> <img class="formulaInl" alt="$s$" src="form_3.png"/>, the following substitution is made.</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ v = SQ\frac{\mathrm{d}s}{\mathrm{d}t} \]" src="form_92.png"/>
</p>
<p>This yieds</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \frac{\mathrm{d}x}{\mathrm{d}s}=Q\cos\theta, \qquad \frac{\mathrm{d}y}{\mathrm{d}s}=Q\sin\theta, \qquad \frac{\mathrm{d}\theta}{\mathrm{d}s}=Q\kappa \]" src="form_93.png"/>
</p>
<p>Now any numerical integration stepper, as defined in <a href="http://www.boost.org/doc/libs/1_65_1/libs/numeric/odeint/doc/html/boost_numeric_odeint/odeint_in_detail/integrate_functions.html">boost::numeric::odeint</a>, can be used to solve this set of ODEs by forward integration. The discrete step size of the numerical integrator is a design parameter and can be set from the command line using the <a href="gflags.github.io/gflags/">gflag</a> <code>--path-granularity=value</code>. Default is 1.0[m]</p>
<p>During path generation the relation <img class="formulaInl" alt="$\left\{q(s) &lt; \kappa_b(s)^{-1} \wedge |\kappa| \leq \kappa_\mathrm{max} \; | \; \forall s \in [s_i, s_f]\right\}$" src="form_94.png"/> is checked for violations at the discrete poses. A path that violates this relation, is marked as not-driveable.</p>
<p>The path generation is implemented as a lazy evaluation. It is only done once, afterwards this function becomes just a getter for _path.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000005">Todo:</a></b></dt><dd>The vehilce model used to describe vehilce motion is a very simple one. It is suitable for proofing the concept of this planner, but may not be suitable for high performance racing. To improve this planner a set of ODEs that model the movement of the SAE-Vehicle in a more accurate way would be needed. This could be the topic of a final-years project, Bachelors- or Masters-Thesis in mechanical engineering. The model can be implemented in this function (or better - improove the overall design by moving this to it's own class <code>PathGenerator</code>).</dd></dl>

<p>Definition at line <a class="el" href="maneuver_8cc_source.html#l00142">142</a> of file <a class="el" href="maneuver_8cc_source.html">maneuver.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                               {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="comment">// TODO(roman): make sure that the path does not extend L without setting s_f</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="comment">// to L</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classplanner_1_1_maneuver.html#af9b45565985e230c95fb607ce8fb9620">_path</a>.empty()) {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordtype">double</span> ds = FLAGS_path_granularity;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <a class="code" href="namespaceplanner.html#afe7af0107ea7bd8cc321a6ea3c90a691">state_type</a> x_0 = {<a class="code" href="classplanner_1_1_maneuver.html#ac30e088a236836a53f14766734eda63a">_position</a>.x(), <a class="code" href="classplanner_1_1_maneuver.html#ac30e088a236836a53f14766734eda63a">_position</a>.y(), <a class="code" href="classplanner_1_1_maneuver.html#a142ea98ee4991a41c5dc43c9e1d7309e">_heading</a>};</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keyword">auto</span> system = [<span class="keyword">this</span>](<span class="keyword">const</span> <a class="code" href="namespaceplanner.html#afe7af0107ea7bd8cc321a6ea3c90a691">state_type</a> &amp;x, <a class="code" href="namespaceplanner.html#afe7af0107ea7bd8cc321a6ea3c90a691">state_type</a> &amp;dxds,</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                         <span class="keyword">const</span> <span class="keywordtype">double</span> s) {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      <span class="keywordtype">double</span> K_b{<a class="code" href="classplanner_1_1_maneuver.html#a19040da64509158b90dd4e607fada2fa">_baseframe</a>-&gt;curvature(s)};</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      <span class="keywordtype">double</span> K{<a class="code" href="classplanner_1_1_maneuver.html#aba3082a11dcc4f6dbb1352154c308563">curvature</a>(s)};</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <span class="keywordflow">if</span> (fabs(<a class="code" href="classplanner_1_1_maneuver.html#aa882d07bf4448dd3ca5471def0a3eb89">q</a>(s)) &gt;= fabs(1 / K_b) || fabs(K) &gt; FLAGS_max_curvature) {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <a class="code" href="classplanner_1_1_maneuver.html#af7ea43fdf6dc2ee92370f9c6683282d0">_drivable</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      <span class="keywordtype">double</span> Q_s{<a class="code" href="classplanner_1_1_maneuver.html#a38c9fbed88221629e32274b0962ee00f">Q</a>(s)};</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <span class="keywordtype">double</span> <a class="code" href="classplanner_1_1_maneuver.html#a266f8f14edd99d29d8157e9f96bdb8b1">theta</a>{x[2]};</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      dxds[0] = Q_s * cos(<a class="code" href="classplanner_1_1_maneuver.html#a266f8f14edd99d29d8157e9f96bdb8b1">theta</a>);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      dxds[1] = Q_s * sin(<a class="code" href="classplanner_1_1_maneuver.html#a266f8f14edd99d29d8157e9f96bdb8b1">theta</a>);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      dxds[2] = Q_s * K;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    };</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    boost::numeric::odeint::euler&lt;state_type&gt; stepper;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    boost::numeric::odeint::integrate_const(</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        stepper, system, x_0, <a class="code" href="classplanner_1_1_maneuver.html#ac6e9878f65a505e2054c08c66ce178f3">s_i</a>(), <a class="code" href="classplanner_1_1_maneuver.html#a7256b5681c90f9f839be10fbe7d440e3">s_f</a>(), ds,</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        push_back_state_and_arc_length(<a class="code" href="classplanner_1_1_maneuver.html#af9b45565985e230c95fb607ce8fb9620">_path</a>));</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  }</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classplanner_1_1_maneuver.html#af9b45565985e230c95fb607ce8fb9620">_path</a>;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;}</div><div class="ttc" id="classplanner_1_1_maneuver_html_ac6e9878f65a505e2054c08c66ce178f3"><div class="ttname"><a href="classplanner_1_1_maneuver.html#ac6e9878f65a505e2054c08c66ce178f3">planner::Maneuver::s_i</a></div><div class="ttdeci">double s_i() const  noexcept</div><div class="ttdoc">getter for the initial arc-length along the Baseframe  [m]. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00207">maneuver.h:207</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_aa882d07bf4448dd3ca5471def0a3eb89"><div class="ttname"><a href="classplanner_1_1_maneuver.html#aa882d07bf4448dd3ca5471def0a3eb89">planner::Maneuver::q</a></div><div class="ttdeci">double q(double s) const </div><div class="ttdoc">Calculate the offset from the Baseframe at s . </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8cc_source.html#l00063">maneuver.cc:63</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a142ea98ee4991a41c5dc43c9e1d7309e"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a142ea98ee4991a41c5dc43c9e1d7309e">planner::Maneuver::_heading</a></div><div class="ttdeci">double _heading</div><div class="ttdoc">heading of the vehicle, used in Maneuver::path </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00607">maneuver.h:607</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_af9b45565985e230c95fb607ce8fb9620"><div class="ttname"><a href="classplanner_1_1_maneuver.html#af9b45565985e230c95fb607ce8fb9620">planner::Maneuver::_path</a></div><div class="ttdeci">std::vector&lt; pose &gt; _path</div><div class="ttdoc">discrete path as vector of poses </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00608">maneuver.h:608</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_af7ea43fdf6dc2ee92370f9c6683282d0"><div class="ttname"><a href="classplanner_1_1_maneuver.html#af7ea43fdf6dc2ee92370f9c6683282d0">planner::Maneuver::_drivable</a></div><div class="ttdeci">bool _drivable</div><div class="ttdoc">flag if this path is reasonable for a non-holonomic vehicle with the maximal curvature of  ...</div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00646">maneuver.h:646</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_aba3082a11dcc4f6dbb1352154c308563"><div class="ttname"><a href="classplanner_1_1_maneuver.html#aba3082a11dcc4f6dbb1352154c308563">planner::Maneuver::curvature</a></div><div class="ttdeci">double curvature(const double s) const </div><div class="ttdoc">Curvature of the Maneuver at arc-length of Baseframe s. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8cc_source.html#l00117">maneuver.cc:117</a></div></div>
<div class="ttc" id="namespaceplanner_html_afe7af0107ea7bd8cc321a6ea3c90a691"><div class="ttname"><a href="namespaceplanner.html#afe7af0107ea7bd8cc321a6ea3c90a691">planner::state_type</a></div><div class="ttdeci">std::vector&lt; double &gt; state_type</div><div class="ttdoc">state used in Maneuver::path </div><div class="ttdef"><b>Definition:</b> <a href="typedefs_8h_source.html#l00016">typedefs.h:16</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_ac30e088a236836a53f14766734eda63a"><div class="ttname"><a href="classplanner_1_1_maneuver.html#ac30e088a236836a53f14766734eda63a">planner::Maneuver::_position</a></div><div class="ttdeci">point _position</div><div class="ttdoc">position of the vehicle, used for Maneuver::path </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00606">maneuver.h:606</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a7256b5681c90f9f839be10fbe7d440e3"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a7256b5681c90f9f839be10fbe7d440e3">planner::Maneuver::s_f</a></div><div class="ttdeci">double s_f() const  noexcept</div><div class="ttdoc">getter for the final arc-length along the Baseframe . </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00194">maneuver.h:194</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a266f8f14edd99d29d8157e9f96bdb8b1"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a266f8f14edd99d29d8157e9f96bdb8b1">planner::Maneuver::theta</a></div><div class="ttdeci">double theta() const  noexcept</div><div class="ttdoc">getter difference between vehicle heading and Baseframe::theta  [rad]. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00229">maneuver.h:229</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a19040da64509158b90dd4e607fada2fa"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a19040da64509158b90dd4e607fada2fa">planner::Maneuver::_baseframe</a></div><div class="ttdeci">std::shared_ptr&lt; Baseframe &gt; _baseframe</div><div class="ttdoc">Baseframe for this maneuver. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00617">maneuver.h:617</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a38c9fbed88221629e32274b0962ee00f"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a38c9fbed88221629e32274b0962ee00f">planner::Maneuver::Q</a></div><div class="ttdeci">double Q(const double s) const </div><div class="ttdoc"> </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8cc_source.html#l00109">maneuver.cc:109</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a61420c3ad672742713b634859e680d97"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structplanner_1_1pose.html">pose</a>&gt; planner::Maneuver::path </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="maneuver_8h_source.html#l00475">475</a> of file <a class="el" href="maneuver_8h_source.html">maneuver.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classplanner_1_1_maneuver.html#af9b45565985e230c95fb607ce8fb9620">_path</a>; };</div><div class="ttc" id="classplanner_1_1_maneuver_html_af9b45565985e230c95fb607ce8fb9620"><div class="ttname"><a href="classplanner_1_1_maneuver.html#af9b45565985e230c95fb607ce8fb9620">planner::Maneuver::_path</a></div><div class="ttdeci">std::vector&lt; pose &gt; _path</div><div class="ttdoc">discrete path as vector of poses </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00608">maneuver.h:608</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a38c9fbed88221629e32274b0962ee00f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double planner::Maneuver::Q </td>
          <td>(</td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ Q = \sqrt{\left(\frac{\mathrm{d}q}{\mathrm{d}s}\right)^2+(1-q\kappa_b)^2} \]" src="form_95.png"/>
</p>
 </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classplanner_1_1_maneuver.html#aba3082a11dcc4f6dbb1352154c308563" title="Curvature of the Maneuver at arc-length of Baseframe s. ">curvature</a>, <a class="el" href="classplanner_1_1_maneuver.html#a0a8ba3e3f40627ffdb81b9aeb3ff05e1" title="calculates a discrete path in carthesian coordinates as a set of vehicle poses. ">path</a>, <a class="el" href="classplanner_1_1_maneuver.html#ab87f05a9b683739ef04f6f1286956ff4" title="Smoothness cost function . ">C_k</a>,<a href="http://ieeexplore.ieee.org/document/6203588/">Chu2012</a> </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::domain_error</td><td>if <img class="formulaInl" alt="$ s \notin [0,L] $" src="form_96.png"/></td></tr>
  </table>
  </dd>
</dl>
<p>helper function. </p>

<p>Definition at line <a class="el" href="maneuver_8cc_source.html#l00109">109</a> of file <a class="el" href="maneuver_8cc_source.html">maneuver.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                                       {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordflow">return</span> sqrt(pow(<a class="code" href="classplanner_1_1_maneuver.html#a4834d324cb62dd2054b64ac2f7f94d5c">dq</a>(s), 2) + pow((1 - <a class="code" href="classplanner_1_1_maneuver.html#aa882d07bf4448dd3ca5471def0a3eb89">q</a>(s) * <a class="code" href="classplanner_1_1_maneuver.html#a19040da64509158b90dd4e607fada2fa">_baseframe</a>-&gt;curvature(s)), 2));</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;}</div><div class="ttc" id="classplanner_1_1_maneuver_html_aa882d07bf4448dd3ca5471def0a3eb89"><div class="ttname"><a href="classplanner_1_1_maneuver.html#aa882d07bf4448dd3ca5471def0a3eb89">planner::Maneuver::q</a></div><div class="ttdeci">double q(double s) const </div><div class="ttdoc">Calculate the offset from the Baseframe at s . </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8cc_source.html#l00063">maneuver.cc:63</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a4834d324cb62dd2054b64ac2f7f94d5c"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a4834d324cb62dd2054b64ac2f7f94d5c">planner::Maneuver::dq</a></div><div class="ttdeci">double dq(double s) const </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8cc_source.html#l00077">maneuver.cc:77</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a19040da64509158b90dd4e607fada2fa"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a19040da64509158b90dd4e607fada2fa">planner::Maneuver::_baseframe</a></div><div class="ttdeci">std::shared_ptr&lt; Baseframe &gt; _baseframe</div><div class="ttdoc">Baseframe for this maneuver. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00617">maneuver.h:617</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa882d07bf4448dd3ca5471def0a3eb89"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double planner::Maneuver::q </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate the offset from the <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> at s <img class="formulaInl" alt="$q: s \in [s_i,\infty] \rightarrow q \in [q_i, q_f]$" src="form_98.png"/>. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classplanner_1_1_maneuver.html#acc434d2e32df019818b4864738ec57b9" title="coefficient a ">_a</a>, <a class="el" href="classplanner_1_1_maneuver.html#adc645c775daef277f6e828adc08f9a76" title="coefficient b ">_b</a>,<a class="el" href="classplanner_1_1_maneuver.html#acfb36e00ac1e522e1903dd51d55399ee" title="coefficient c ">_c</a>, <a class="el" href="classplanner_1_1_maneuver.html#a8d8755d44750a03033497aa3a766fc36" title="coefficient d ">_d</a>, <a class="el" href="classplanner_1_1_maneuver.html#a4834d324cb62dd2054b64ac2f7f94d5c">dq</a>, <a class="el" href="classplanner_1_1_maneuver.html#a001c4e6fa8d5147b7770595d625cec9e">ddq</a>, <a class="el" href="classplanner_1_1_maneuver.html#aba3082a11dcc4f6dbb1352154c308563" title="Curvature of the Maneuver at arc-length of Baseframe s. ">curvature</a>, <a class="el" href="classplanner_1_1_maneuver.html" title="A Maneuver describes a path in curvilinear- and carthesian coordinates. ">Maneuver</a>, <a href="http://ieeexplore.ieee.org/document/6203588/">Chu2012</a> </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::domain_error</td><td>if <img class="formulaInl" alt="$ s &lt; s_i $" src="form_99.png"/>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the offset <img class="formulaInl" alt="$q$" src="form_13.png"/> from the <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> at arc-length <img class="formulaInl" alt="$s$" src="form_3.png"/>.</dd></dl>
<p>A maneuver in curvilinear coordinates can be described as a cubic polynomnial</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ q(s) = \begin{cases} a(s - s_i)^3 + b(s - s_i)^2 + c(s - s_i) + d, &amp;\text{ if } s_i \leq s &lt; s_f\\ q_f, &amp;\text{ if } s_f \leq s \end{cases} \]" src="form_100.png"/>
</p>
<p>that satisfies the following boundary conditions</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\begin{eqnarray*} q(s_i) &amp;=&amp; q_i \\ q(s_f) &amp;=&amp; q_f \\ \frac{\mathrm{d}}{\mathrm{d}s}q(s_i) &amp;=&amp; \tan(\Delta \theta) \\ \frac{\mathrm{d}}{\mathrm{d}s}q(s_i) &amp;=&amp; 0 \\ \end{eqnarray*}" src="form_34.png"/>
</p>
<p>with the following constants:</p><ul>
<li><img class="formulaInl" alt="$s_i \in [0,L] $" src="form_35.png"/> is the initial arc-length along the baseframe [m].</li>
<li><img class="formulaInl" alt="$s_f \in [0,L] \wedge s_f &gt; s_i $" src="form_36.png"/> is the final arc-length [m].</li>
<li><img class="formulaInl" alt="$q_i \in [-q_\mathrm{max}, q_\mathrm{max}]$" src="form_37.png"/> initial offset from <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> [m].</li>
<li><img class="formulaInl" alt="$q_f \in [-q_\mathrm{max}, q_\mathrm{max}]$" src="form_38.png"/> final offset from <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> [m].</li>
<li><img class="formulaInl" alt="$ \Delta \theta $" src="form_39.png"/> difference between <a class="el" href="classplanner_1_1_baseframe.html#a2c85586deaa4a398270c9b570f83bb70" title="calculates the tangent angle in [rad] of baseframe at arc-length . ">Baseframe::theta</a> and vehicle heading [rad].</li>
</ul>
<p>See the constructor <a class="el" href="classplanner_1_1_maneuver.html#af2da289985cd19d4fa40727e372aeb20">Maneuver::Maneuver</a> for details on calculating the coefficients. </p>

<p>Definition at line <a class="el" href="maneuver_8cc_source.html#l00063">63</a> of file <a class="el" href="maneuver_8cc_source.html">maneuver.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                                 {</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="keywordtype">double</span> result = 0.0;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keywordtype">double</span> delta_s = s - <a class="code" href="classplanner_1_1_maneuver.html#a480035ee064cf666c9f703ede1cd9ade">_s_i</a>;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keywordflow">if</span> (_s_i &lt;= s &amp;&amp; s &lt; <a class="code" href="classplanner_1_1_maneuver.html#a68cdd30dfa19f0848c0df5a7f72ccc8a">_s_f</a>) {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    result = <a class="code" href="classplanner_1_1_maneuver.html#acc434d2e32df019818b4864738ec57b9">_a</a> * pow(delta_s, 3) + <a class="code" href="classplanner_1_1_maneuver.html#adc645c775daef277f6e828adc08f9a76">_b</a> * pow(delta_s, 2) + <a class="code" href="classplanner_1_1_maneuver.html#acfb36e00ac1e522e1903dd51d55399ee">_c</a> * delta_s + <a class="code" href="classplanner_1_1_maneuver.html#a8d8755d44750a03033497aa3a766fc36">_d</a>;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classplanner_1_1_maneuver.html#a68cdd30dfa19f0848c0df5a7f72ccc8a">_s_f</a> &lt;= s) {</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    result = <a class="code" href="classplanner_1_1_maneuver.html#a95fbf95d7e673a068919da0ebacb38c3">_q_f</a>;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="comment">// result = _d;</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">throw</span> std::domain_error(<span class="stringliteral">&quot;q is not defined for s &lt; &quot;</span> + std::to_string(_s_i));</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  }</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;}</div><div class="ttc" id="classplanner_1_1_maneuver_html_acc434d2e32df019818b4864738ec57b9"><div class="ttname"><a href="classplanner_1_1_maneuver.html#acc434d2e32df019818b4864738ec57b9">planner::Maneuver::_a</a></div><div class="ttdeci">double _a</div><div class="ttdoc">coefficient a </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00592">maneuver.h:592</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_acfb36e00ac1e522e1903dd51d55399ee"><div class="ttname"><a href="classplanner_1_1_maneuver.html#acfb36e00ac1e522e1903dd51d55399ee">planner::Maneuver::_c</a></div><div class="ttdeci">double _c</div><div class="ttdoc">coefficient c </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00600">maneuver.h:600</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a480035ee064cf666c9f703ede1cd9ade"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a480035ee064cf666c9f703ede1cd9ade">planner::Maneuver::_s_i</a></div><div class="ttdeci">double _s_i</div><div class="ttdoc">initial arc-length along Baseframe  [m]. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00580">maneuver.h:580</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a95fbf95d7e673a068919da0ebacb38c3"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a95fbf95d7e673a068919da0ebacb38c3">planner::Maneuver::_q_f</a></div><div class="ttdeci">double _q_f</div><div class="ttdoc">final offset from Baseframe  [m]. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00579">maneuver.h:579</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_adc645c775daef277f6e828adc08f9a76"><div class="ttname"><a href="classplanner_1_1_maneuver.html#adc645c775daef277f6e828adc08f9a76">planner::Maneuver::_b</a></div><div class="ttdeci">double _b</div><div class="ttdoc">coefficient b </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00596">maneuver.h:596</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a8d8755d44750a03033497aa3a766fc36"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a8d8755d44750a03033497aa3a766fc36">planner::Maneuver::_d</a></div><div class="ttdeci">double _d</div><div class="ttdoc">coefficient d </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00604">maneuver.h:604</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a68cdd30dfa19f0848c0df5a7f72ccc8a"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a68cdd30dfa19f0848c0df5a7f72ccc8a">planner::Maneuver::_s_f</a></div><div class="ttdeci">double _s_f</div><div class="ttdoc">final arc-length along Baseframe  [m]. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00581">maneuver.h:581</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6932cd20e8131e890b4f5d07b0b61854"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double planner::Maneuver::q_f </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>getter for the final offset from the <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> <img class="formulaInl" alt="$ q_f $" src="form_61.png"/> [m]. </p>

<p>Definition at line <a class="el" href="maneuver_8h_source.html#l00224">224</a> of file <a class="el" href="maneuver_8h_source.html">maneuver.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classplanner_1_1_maneuver.html#a95fbf95d7e673a068919da0ebacb38c3">_q_f</a>; }</div><div class="ttc" id="classplanner_1_1_maneuver_html_a95fbf95d7e673a068919da0ebacb38c3"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a95fbf95d7e673a068919da0ebacb38c3">planner::Maneuver::_q_f</a></div><div class="ttdeci">double _q_f</div><div class="ttdoc">final offset from Baseframe  [m]. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00579">maneuver.h:579</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8d56aed4723518fa303a70eaa998ae4b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double planner::Maneuver::q_i </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>getter for the initial offset from the <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> <img class="formulaInl" alt="$ q_i $" src="form_60.png"/> [m]. this is equal to _d </p>

<p>Definition at line <a class="el" href="maneuver_8h_source.html#l00220">220</a> of file <a class="el" href="maneuver_8h_source.html">maneuver.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classplanner_1_1_maneuver.html#a8d8755d44750a03033497aa3a766fc36">_d</a>; }</div><div class="ttc" id="classplanner_1_1_maneuver_html_a8d8755d44750a03033497aa3a766fc36"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a8d8755d44750a03033497aa3a766fc36">planner::Maneuver::_d</a></div><div class="ttdeci">double _d</div><div class="ttdoc">coefficient d </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00604">maneuver.h:604</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae6581889f33e78361b7c17c83550f639"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double planner::Maneuver::S </td>
          <td>(</td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ S = \mathrm{sgn}(1 - q\kappa_b) \]" src="form_97.png"/>
</p>
 <dl class="section see"><dt>See also</dt><dd><a class="el" href="classplanner_1_1_maneuver.html#aba3082a11dcc4f6dbb1352154c308563" title="Curvature of the Maneuver at arc-length of Baseframe s. ">curvature</a>,<a href="http://ieeexplore.ieee.org/document/6203588/">Chu2012</a>,<a href="http://www.boost.org/doc/libs/1_65_1/boost/math/special_functions/sign.hpp">boost::math::sign</a> </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::domain_error</td><td>if <img class="formulaInl" alt="$ s \notin [0,L] $" src="form_96.png"/></td></tr>
  </table>
  </dd>
</dl>
<p>helper function. </p>

<p>Definition at line <a class="el" href="maneuver_8cc_source.html#l00113">113</a> of file <a class="el" href="maneuver_8cc_source.html">maneuver.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                                       {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordflow">return</span> sign(1 - <a class="code" href="classplanner_1_1_maneuver.html#aa882d07bf4448dd3ca5471def0a3eb89">q</a>(s) * <a class="code" href="classplanner_1_1_maneuver.html#a19040da64509158b90dd4e607fada2fa">_baseframe</a>-&gt;curvature(s));</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;}</div><div class="ttc" id="classplanner_1_1_maneuver_html_aa882d07bf4448dd3ca5471def0a3eb89"><div class="ttname"><a href="classplanner_1_1_maneuver.html#aa882d07bf4448dd3ca5471def0a3eb89">planner::Maneuver::q</a></div><div class="ttdeci">double q(double s) const </div><div class="ttdoc">Calculate the offset from the Baseframe at s . </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8cc_source.html#l00063">maneuver.cc:63</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a19040da64509158b90dd4e607fada2fa"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a19040da64509158b90dd4e607fada2fa">planner::Maneuver::_baseframe</a></div><div class="ttdeci">std::shared_ptr&lt; Baseframe &gt; _baseframe</div><div class="ttdoc">Baseframe for this maneuver. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00617">maneuver.h:617</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7256b5681c90f9f839be10fbe7d440e3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double planner::Maneuver::s_f </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>getter for the final arc-length along the <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> <img class="formulaInl" alt="$ s_f $" src="form_50.png"/>. </p>

<p>Definition at line <a class="el" href="maneuver_8h_source.html#l00194">194</a> of file <a class="el" href="maneuver_8h_source.html">maneuver.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classplanner_1_1_maneuver.html#a68cdd30dfa19f0848c0df5a7f72ccc8a">_s_f</a>; }</div><div class="ttc" id="classplanner_1_1_maneuver_html_a68cdd30dfa19f0848c0df5a7f72ccc8a"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a68cdd30dfa19f0848c0df5a7f72ccc8a">planner::Maneuver::_s_f</a></div><div class="ttdeci">double _s_f</div><div class="ttdoc">final arc-length along Baseframe  [m]. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00581">maneuver.h:581</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a01cc0d83eb55267efcacf2b29ca837b4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void planner::Maneuver::s_f </td>
          <td>(</td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>getter for the final arc-length along the <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> <img class="formulaInl" alt="$ s_f $" src="form_50.png"/>. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>chech if this makes sense, rather check that the path is only generated until the end of the baseframe </dd></dl>

<p>Definition at line <a class="el" href="maneuver_8h_source.html#l00200">200</a> of file <a class="el" href="maneuver_8h_source.html">maneuver.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                           {</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="classplanner_1_1_maneuver.html#a68cdd30dfa19f0848c0df5a7f72ccc8a">_s_f</a> = s &gt; <a class="code" href="classplanner_1_1_maneuver.html#a19040da64509158b90dd4e607fada2fa">_baseframe</a>-&gt;length() ? <a class="code" href="classplanner_1_1_maneuver.html#a19040da64509158b90dd4e607fada2fa">_baseframe</a>-&gt;length() : s;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  }</div><div class="ttc" id="classplanner_1_1_maneuver_html_a68cdd30dfa19f0848c0df5a7f72ccc8a"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a68cdd30dfa19f0848c0df5a7f72ccc8a">planner::Maneuver::_s_f</a></div><div class="ttdeci">double _s_f</div><div class="ttdoc">final arc-length along Baseframe  [m]. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00581">maneuver.h:581</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a19040da64509158b90dd4e607fada2fa"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a19040da64509158b90dd4e607fada2fa">planner::Maneuver::_baseframe</a></div><div class="ttdeci">std::shared_ptr&lt; Baseframe &gt; _baseframe</div><div class="ttdoc">Baseframe for this maneuver. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00617">maneuver.h:617</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac6e9878f65a505e2054c08c66ce178f3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double planner::Maneuver::s_i </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>getter for the initial arc-length along the <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> <img class="formulaInl" alt="$ s_i $" src="form_59.png"/> [m]. </p>

<p>Definition at line <a class="el" href="maneuver_8h_source.html#l00207">207</a> of file <a class="el" href="maneuver_8h_source.html">maneuver.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classplanner_1_1_maneuver.html#a480035ee064cf666c9f703ede1cd9ade">_s_i</a>; }</div><div class="ttc" id="classplanner_1_1_maneuver_html_a480035ee064cf666c9f703ede1cd9ade"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a480035ee064cf666c9f703ede1cd9ade">planner::Maneuver::_s_i</a></div><div class="ttdeci">double _s_i</div><div class="ttdoc">initial arc-length along Baseframe  [m]. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00580">maneuver.h:580</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4c2f498e399f50beb4469fde845fb87d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void planner::Maneuver::s_i </td>
          <td>(</td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>setter for the initial arc-length along the <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> <img class="formulaInl" alt="$ s_i $" src="form_59.png"/> [m]. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000004">Todo:</a></b></dt><dd>rather throw an exception than adjust s </dd></dl>

<p>Definition at line <a class="el" href="maneuver_8h_source.html#l00213">213</a> of file <a class="el" href="maneuver_8h_source.html">maneuver.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                           {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="classplanner_1_1_maneuver.html#a480035ee064cf666c9f703ede1cd9ade">_s_i</a> = s &gt; <a class="code" href="classplanner_1_1_maneuver.html#a19040da64509158b90dd4e607fada2fa">_baseframe</a>-&gt;length() ? <a class="code" href="classplanner_1_1_maneuver.html#a19040da64509158b90dd4e607fada2fa">_baseframe</a>-&gt;length() : s;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  }</div><div class="ttc" id="classplanner_1_1_maneuver_html_a480035ee064cf666c9f703ede1cd9ade"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a480035ee064cf666c9f703ede1cd9ade">planner::Maneuver::_s_i</a></div><div class="ttdeci">double _s_i</div><div class="ttdoc">initial arc-length along Baseframe  [m]. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00580">maneuver.h:580</a></div></div>
<div class="ttc" id="classplanner_1_1_maneuver_html_a19040da64509158b90dd4e607fada2fa"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a19040da64509158b90dd4e607fada2fa">planner::Maneuver::_baseframe</a></div><div class="ttdeci">std::shared_ptr&lt; Baseframe &gt; _baseframe</div><div class="ttdoc">Baseframe for this maneuver. </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00617">maneuver.h:617</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a266f8f14edd99d29d8157e9f96bdb8b1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double planner::Maneuver::theta </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>getter difference between vehicle heading and <a class="el" href="classplanner_1_1_baseframe.html#a2c85586deaa4a398270c9b570f83bb70" title="calculates the tangent angle in [rad] of baseframe at arc-length . ">Baseframe::theta</a> <img class="formulaInl" alt="$ \Delta \theta $" src="form_39.png"/> [rad]. </p>

<p>Definition at line <a class="el" href="maneuver_8h_source.html#l00229">229</a> of file <a class="el" href="maneuver_8h_source.html">maneuver.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classplanner_1_1_maneuver.html#a1d41f5cbb57cb537aef1a0236dbc7a05">_theta</a>; }</div><div class="ttc" id="classplanner_1_1_maneuver_html_a1d41f5cbb57cb537aef1a0236dbc7a05"><div class="ttname"><a href="classplanner_1_1_maneuver.html#a1d41f5cbb57cb537aef1a0236dbc7a05">planner::Maneuver::_theta</a></div><div class="ttdeci">double _theta</div><div class="ttdoc">difference between vehicle heading and tangent angle of baseframe  </div><div class="ttdef"><b>Definition:</b> <a href="maneuver_8h_source.html#l00586">maneuver.h:586</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="a992f637c1b47ee592b4563fa9e6a6f65"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>os</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classplanner_1_1_maneuver.html">Maneuver</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="maneuver_8cc_source.html#l00240">240</a> of file <a class="el" href="maneuver_8cc_source.html">maneuver.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                                                          {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  os &lt;&lt; <span class="stringliteral">&quot;\\addplot coordinates {\n&quot;</span>;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="namespaceplanner.html#a00dc2e45d34fb5441af4d23fbde47b62">point</a> : m.path()) {</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    os &lt;&lt; boost::format(<span class="stringliteral">&quot;(%d,%d)\n&quot;</span>) % <a class="code" href="namespaceplanner.html#a00dc2e45d34fb5441af4d23fbde47b62">point</a>.x() % <a class="code" href="namespaceplanner.html#a00dc2e45d34fb5441af4d23fbde47b62">point</a>.y();</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  }</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  os &lt;&lt; <span class="stringliteral">&quot;};\n&quot;</span>;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="keywordflow">return</span> os;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;}</div><div class="ttc" id="namespaceplanner_html_a00dc2e45d34fb5441af4d23fbde47b62"><div class="ttname"><a href="namespaceplanner.html#a00dc2e45d34fb5441af4d23fbde47b62">planner::point</a></div><div class="ttdeci">bg::model::d2::point_xy&lt; double &gt; point</div><div class="ttdef"><b>Definition:</b> <a href="typedefs_8h_source.html#l00013">typedefs.h:13</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="acc434d2e32df019818b4864738ec57b9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double planner::Maneuver::_a</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>coefficient a </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classplanner_1_1_maneuver.html#aa882d07bf4448dd3ca5471def0a3eb89" title="Calculate the offset from the Baseframe at s . ">q</a>, <a class="el" href="classplanner_1_1_maneuver.html#a4834d324cb62dd2054b64ac2f7f94d5c">dq</a>, <a class="el" href="classplanner_1_1_maneuver.html#a001c4e6fa8d5147b7770595d625cec9e">ddq</a>, <a class="el" href="classplanner_1_1_maneuver.html#af2da289985cd19d4fa40727e372aeb20">Maneuver::Maneuver</a> </dd></dl>

<p>Definition at line <a class="el" href="maneuver_8h_source.html#l00592">592</a> of file <a class="el" href="maneuver_8h_source.html">maneuver.h</a>.</p>

</div>
</div>
<a class="anchor" id="adc645c775daef277f6e828adc08f9a76"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double planner::Maneuver::_b</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>coefficient b </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classplanner_1_1_maneuver.html#aa882d07bf4448dd3ca5471def0a3eb89" title="Calculate the offset from the Baseframe at s . ">q</a>, <a class="el" href="classplanner_1_1_maneuver.html#a4834d324cb62dd2054b64ac2f7f94d5c">dq</a>, <a class="el" href="classplanner_1_1_maneuver.html#a001c4e6fa8d5147b7770595d625cec9e">ddq</a>, <a class="el" href="classplanner_1_1_maneuver.html#af2da289985cd19d4fa40727e372aeb20">Maneuver::Maneuver</a> </dd></dl>

<p>Definition at line <a class="el" href="maneuver_8h_source.html#l00596">596</a> of file <a class="el" href="maneuver_8h_source.html">maneuver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a19040da64509158b90dd4e607fada2fa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classplanner_1_1_baseframe.html">Baseframe</a>&gt; planner::Maneuver::_baseframe</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> for this maneuver. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a>, <a class="el" href="classplanner_1_1_maneuver.html#aba3082a11dcc4f6dbb1352154c308563" title="Curvature of the Maneuver at arc-length of Baseframe s. ">curvature</a>, <a class="el" href="classplanner_1_1_maneuver.html#a38c9fbed88221629e32274b0962ee00f" title=" ">Q</a>, <a class="el" href="classplanner_1_1_maneuver.html#ae6581889f33e78361b7c17c83550f639">S</a>, <a class="el" href="classplanner_1_1_maneuver.html#a0a8ba3e3f40627ffdb81b9aeb3ff05e1" title="calculates a discrete path in carthesian coordinates as a set of vehicle poses. ">path</a></dd></dl>
<p>This is an observer-pointer of a <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> that was constructed at another place - normally in the <a class="el" href="classplanner_1_1_planner.html" title="A local path planner for autonomous driving. ">Planner</a>. </p>

<p>Definition at line <a class="el" href="maneuver_8h_source.html#l00617">617</a> of file <a class="el" href="maneuver_8h_source.html">maneuver.h</a>.</p>

</div>
</div>
<a class="anchor" id="acfb36e00ac1e522e1903dd51d55399ee"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double planner::Maneuver::_c</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>coefficient c </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classplanner_1_1_maneuver.html#aa882d07bf4448dd3ca5471def0a3eb89" title="Calculate the offset from the Baseframe at s . ">q</a>, <a class="el" href="classplanner_1_1_maneuver.html#a4834d324cb62dd2054b64ac2f7f94d5c">dq</a>, <a class="el" href="classplanner_1_1_maneuver.html#a001c4e6fa8d5147b7770595d625cec9e">ddq</a>, <a class="el" href="classplanner_1_1_maneuver.html#af2da289985cd19d4fa40727e372aeb20">Maneuver::Maneuver</a> </dd></dl>

<p>Definition at line <a class="el" href="maneuver_8h_source.html#l00600">600</a> of file <a class="el" href="maneuver_8h_source.html">maneuver.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac2c02eac739554662afa7d78d28dc0db"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool planner::Maneuver::_collision_checked</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>flag indicates if collision was already calculated. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classplanner_1_1_maneuver.html#a355986a548281ad5087477e5da494167" title="Collision checking function . ">collision</a> </dd></dl>

<p>Definition at line <a class="el" href="maneuver_8h_source.html#l00632">632</a> of file <a class="el" href="maneuver_8h_source.html">maneuver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a52d9904cbd57d34df3091498a77dc46e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double planner::Maneuver::_collision_length</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>stores length where collision occured - 0.0 for non collision. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classplanner_1_1_maneuver.html#a355986a548281ad5087477e5da494167" title="Collision checking function . ">collision</a> </dd></dl>

<p>Definition at line <a class="el" href="maneuver_8h_source.html#l00637">637</a> of file <a class="el" href="maneuver_8h_source.html">maneuver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8d8755d44750a03033497aa3a766fc36"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double planner::Maneuver::_d</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>coefficient d </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classplanner_1_1_maneuver.html#aa882d07bf4448dd3ca5471def0a3eb89" title="Calculate the offset from the Baseframe at s . ">q</a>, <a class="el" href="classplanner_1_1_maneuver.html#a4834d324cb62dd2054b64ac2f7f94d5c">dq</a>, <a class="el" href="classplanner_1_1_maneuver.html#a001c4e6fa8d5147b7770595d625cec9e">ddq</a>, <a class="el" href="classplanner_1_1_maneuver.html#af2da289985cd19d4fa40727e372aeb20">Maneuver::Maneuver</a> </dd></dl>

<p>Definition at line <a class="el" href="maneuver_8h_source.html#l00604">604</a> of file <a class="el" href="maneuver_8h_source.html">maneuver.h</a>.</p>

</div>
</div>
<a class="anchor" id="af7ea43fdf6dc2ee92370f9c6683282d0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool planner::Maneuver::_drivable</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>flag if this path is reasonable for a non-holonomic vehicle with the maximal curvature of <img class="formulaInl" alt="$k_\mathrm{max}$" src="form_106.png"/> </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classplanner_1_1_maneuver.html#a28b9242c1c2fccdd28f721f91460103b" title="indicates if this maneuver is driveable for a non-holonomic vehicle ">driveable</a>, <a class="el" href="classplanner_1_1_maneuver.html#a0a8ba3e3f40627ffdb81b9aeb3ff05e1" title="calculates a discrete path in carthesian coordinates as a set of vehicle poses. ">path</a></dd></dl>
<p>This is true if, and only if </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[\left\{q(s) &lt; \kappa_b(s)^{-1} \wedge |\kappa| \leq \kappa_\mathrm{max} \; | \; \forall s \in [s_i, s_f]\right\}\]" src="form_62.png"/>
</p>
 
<p>Definition at line <a class="el" href="maneuver_8h_source.html#l00646">646</a> of file <a class="el" href="maneuver_8h_source.html">maneuver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a142ea98ee4991a41c5dc43c9e1d7309e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double planner::Maneuver::_heading</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>heading of the vehicle, used in <a class="el" href="classplanner_1_1_maneuver.html#a0a8ba3e3f40627ffdb81b9aeb3ff05e1" title="calculates a discrete path in carthesian coordinates as a set of vehicle poses. ">Maneuver::path</a> </p>

<p>Definition at line <a class="el" href="maneuver_8h_source.html#l00607">607</a> of file <a class="el" href="maneuver_8h_source.html">maneuver.h</a>.</p>

</div>
</div>
<a class="anchor" id="af9b45565985e230c95fb607ce8fb9620"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structplanner_1_1pose.html">pose</a>&gt; planner::Maneuver::_path</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>discrete path as vector of poses </p>

<p>Definition at line <a class="el" href="maneuver_8h_source.html#l00608">608</a> of file <a class="el" href="maneuver_8h_source.html">maneuver.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac30e088a236836a53f14766734eda63a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceplanner.html#a00dc2e45d34fb5441af4d23fbde47b62">point</a> planner::Maneuver::_position</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>position of the vehicle, used for <a class="el" href="classplanner_1_1_maneuver.html#a0a8ba3e3f40627ffdb81b9aeb3ff05e1" title="calculates a discrete path in carthesian coordinates as a set of vehicle poses. ">Maneuver::path</a> </p>

<p>Definition at line <a class="el" href="maneuver_8h_source.html#l00606">606</a> of file <a class="el" href="maneuver_8h_source.html">maneuver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a95fbf95d7e673a068919da0ebacb38c3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double planner::Maneuver::_q_f</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>final offset from <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> <img class="formulaInl" alt="$q_f$" src="form_103.png"/> [m]. </p>

<p>Definition at line <a class="el" href="maneuver_8h_source.html#l00579">579</a> of file <a class="el" href="maneuver_8h_source.html">maneuver.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa51ccde1a361c326a0cf688006ce3a15"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="namespaceplanner.html#ac0b7a27a71cfd1896e1d537aa61a05ad">Rtree</a>&gt; planner::Maneuver::_rtree</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Spatial index observer for collision checking. </p>
<dl class="section see"><dt>See also</dt><dd><a href="http://www.boost.org/doc/libs/1_65_1/libs/geometry/doc/html/geometry/spatial_indexes/introduction.html">boost::geometry::index::rtree</a>, <a class="el" href="classplanner_1_1_maneuver.html#a355986a548281ad5087477e5da494167" title="Collision checking function . ">collision</a></dd></dl>
<p>This is an observer-pointer of a Rtree that was constructed at another place - normally in the <a class="el" href="classplanner_1_1_planner.html" title="A local path planner for autonomous driving. ">Planner</a>. </p>

<p>Definition at line <a class="el" href="maneuver_8h_source.html#l00627">627</a> of file <a class="el" href="maneuver_8h_source.html">maneuver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a68cdd30dfa19f0848c0df5a7f72ccc8a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double planner::Maneuver::_s_f</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>final arc-length along <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> <img class="formulaInl" alt="$s_f$" src="form_105.png"/> [m]. </p>

<p>Definition at line <a class="el" href="maneuver_8h_source.html#l00581">581</a> of file <a class="el" href="maneuver_8h_source.html">maneuver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a480035ee064cf666c9f703ede1cd9ade"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double planner::Maneuver::_s_i</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>initial arc-length along <a class="el" href="classplanner_1_1_baseframe.html" title="Baseframe for the curvilinear coordinate system. ">Baseframe</a> <img class="formulaInl" alt="$s_i$" src="form_104.png"/> [m]. </p>

<p>Definition at line <a class="el" href="maneuver_8h_source.html#l00580">580</a> of file <a class="el" href="maneuver_8h_source.html">maneuver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1d41f5cbb57cb537aef1a0236dbc7a05"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double planner::Maneuver::_theta</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>difference between vehicle heading and tangent angle of baseframe <img class="formulaInl" alt="$ \Delta \theta $" src="form_39.png"/> </p>

<p>Definition at line <a class="el" href="maneuver_8h_source.html#l00586">586</a> of file <a class="el" href="maneuver_8h_source.html">maneuver.h</a>.</p>

</div>
</div>
<a class="anchor" id="af73ebc0692da57e3b024e49e5b5c2521"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double planner::Maneuver::_v</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>forward velocity of the vehicle <img class="formulaInl" alt="$v$" src="form_51.png"/> [m/s] </p>

<p>Definition at line <a class="el" href="maneuver_8h_source.html#l00587">587</a> of file <a class="el" href="maneuver_8h_source.html">maneuver.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/planner/<a class="el" href="maneuver_8h_source.html">maneuver.h</a></li>
<li>src/planner/<a class="el" href="maneuver_8cc_source.html">maneuver.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
